{"version":3,"file":"layout.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","main_core_events","im_v2_application_core","im_v2_lib_analytics","im_v2_lib_localStorage","im_v2_const","im_v2_lib_logger","im_v2_lib_channel","im_v2_lib_access","im_v2_lib_feature","im_v2_lib_bulkActions","TypesWithoutContext","Set","ChatType","comment","LayoutsWithoutLastOpenedElement","Layout","channel","market","_instance","babelHelpers","classPrivateFieldLooseKey","_lastOpenedElement","_onGoToMessageContext","_onDesktopReload","_sendAnalytics","_isSameChat","_handleLayoutChange","_handleChatChange","_handleSameChatReopen","_clearBulkActionsCollection","_closeChannelComments","_handleContextAccess","_getChat","LayoutManager","getInstance","classPrivateFieldLooseBase","init","constructor","Object","defineProperty","value","_getChat2","_handleContextAccess2","_closeChannelComments2","_clearBulkActionsCollection2","_handleSameChatReopen2","_handleChatChange2","_handleLayoutChange2","_isSameChat2","_sendAnalytics2","_onDesktopReload2","_onGoToMessageContext2","writable","EventEmitter","subscribe","EventType","dialog","goToMessageContext","bind","desktop","onReload","setLayout","config","contextId","hasAccess","Promise","resolve","entityId","setLastOpenedElement","name","Core","getStore","dispatch","getLayout","getters","saveCurrentLayout","currentLayout","LocalStorageManager","set","LocalStorageKey","layoutConfig","prepareInitialLayout","get","chat","Logger","warn","remove","getLastOpenedElement","layoutName","_babelHelpers$classPr","has","clearCurrentLayoutEntityId","currentLayoutName","deleteLastOpenedElement","isChatContextAvailable","dialogId","type","destroy","unsubscribe","deleteLastOpenedElementById","entries","forEach","lastOpenedId","isEmbeddedMode","isQuickAccessHidden","settings","Extension","getSettings","isValidLayout","values","includes","isChatLayout","chatLayouts","copilot","openlines","openlinesV2","collab","taskComments","async","event","messageId","getData","Analytics","onOpenTab","sameLayout","sameEntityId","emit","BulkActionsManager","clearCollection","isChannelOpened","ChannelManager","isChannel","closeComments","errorCode","AccessManager","checkMessageAccess","ErrorCode","message","accessDeniedByTariff","historyLimit","onGoToContextLimitExceeded","FeatureManager","chatHistory","openFeatureSlider","Lib","Event","Application","Const"],"sources":["layout.bundle.js"],"mappings":"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","ignoreList":[]}