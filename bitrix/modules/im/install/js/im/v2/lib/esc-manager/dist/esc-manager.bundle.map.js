{"version":3,"file":"esc-manager.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","main_core_events","main_popup","main_sidepanel","im_v2_lib_utils","im_v2_lib_call","im_v2_application_core","im_v2_const","im_v2_lib_layout","im_v2_lib_slider","im_v2_lib_desktop","im_v2_lib_desktopApi","MESSENGER_CONTAINER_SELECTOR","EscEventAction","Object","freeze","handled","ignored","_messengerContainer","babelHelpers","classPrivateFieldLooseKey","_wasKeyDownHandled","_instance","_shouldIgnoreEscape","_isHandledBySubscriber","_handleActiveInput","_handleLayoutClear","_handleMessengerSliderClose","_handleDesktopAction","_onKeyUp","_onKeyDown","_getMessengerContainer","_switchToChatLayout","_isExternalSliderOpened","_handleChannelComments","EscManager","constructor","defineProperty","value","_handleChannelComments2","_isExternalSliderOpened2","_switchToChatLayout2","_getMessengerContainer2","_onKeyDown2","_onKeyUp2","_handleDesktopAction2","_handleMessengerSliderClose2","_handleLayoutClear2","_handleActiveInput2","_isHandledBySubscriber2","_shouldIgnoreEscape2","writable","keyUpEventHandler","classPrivateFieldLooseBase","bind","keyDownEventHandler","getInstance","_babelHelpers$classPr","register","Event","document","unregister","unbind","handleEsc","hasVisibleCall","CallManager","isAnyPopupShown","PopupWindowManager","async","eventResult","EventEmitter","emitAsync","EventType","key","onBeforeEscape","includes","activeElement","isMessengerFocused","contains","isInputFocused","matches","blur","layoutManager","LayoutManager","currentLayout","getLayout","isChatLayout","name","isChatLayoutEmptyState","entityId","clearCurrentLayoutEntityId","slider","MessengerSlider","getCurrent","isFocused","close","DesktopManager","isDesktop","DesktopApi","hideWindow","event","Utils","isCombination","UI","Viewer","Instance","isOpen","querySelector","setLayout","Layout","chat","isEmbeddedMode","SidePanel","getOpenSlidersCount","areCommentsOpened","Core","getStore","getters","emit","dialog","closeComments","Lib","Main","Application","Const"],"sources":["esc-manager.bundle.js"],"mappings":"AACAA,KAAKC,GAAKD,KAAKC,IAAM,CAAC,EACtBD,KAAKC,GAAGC,UAAYF,KAAKC,GAAGC,WAAa,CAAC,EAC1CF,KAAKC,GAAGC,UAAUC,GAAKH,KAAKC,GAAGC,UAAUC,IAAM,CAAC,GAC/C,SAAUC,EAAQC,EAAUC,EAAiBC,EAAWC,EAAeC,EAAgBC,EAAeC,EAAuBC,EAAYC,EAAiBC,EAAiBC,EAAkBC,GAC7L,aAEA,MAAMC,EAA+B,8BACrC,MAAMC,EAAiBC,OAAOC,OAAO,CACnCC,QAAS,UACTC,QAAS,YAEX,IAAIC,EAAmCC,aAAaC,0BAA0B,sBAC9E,IAAIC,EAAkCF,aAAaC,0BAA0B,qBAC7E,IAAIE,EAAyBH,aAAaC,0BAA0B,YACpE,IAAIG,EAAmCJ,aAAaC,0BAA0B,sBAC9E,IAAII,EAAsCL,aAAaC,0BAA0B,yBACjF,IAAIK,EAAkCN,aAAaC,0BAA0B,qBAC7E,IAAIM,EAAkCP,aAAaC,0BAA0B,qBAC7E,IAAIO,EAA2CR,aAAaC,0BAA0B,8BACtF,IAAIQ,EAAoCT,aAAaC,0BAA0B,uBAC/E,IAAIS,EAAwBV,aAAaC,0BAA0B,WACnE,IAAIU,EAA0BX,aAAaC,0BAA0B,aACrE,IAAIW,EAAsCZ,aAAaC,0BAA0B,yBACjF,IAAIY,EAAmCb,aAAaC,0BAA0B,sBAC9E,IAAIa,EAAuCd,aAAaC,0BAA0B,0BAClF,IAAIc,EAAsCf,aAAaC,0BAA0B,yBACjF,MAAMe,EACJ,WAAAC,GACEtB,OAAOuB,eAAe1C,KAAMuC,EAAwB,CAClDI,MAAOC,IAETzB,OAAOuB,eAAe1C,KAAMsC,EAAyB,CACnDK,MAAOE,IAET1B,OAAOuB,eAAe1C,KAAMqC,EAAqB,CAC/CM,MAAOG,IAET3B,OAAOuB,eAAe1C,KAAMoC,EAAwB,CAClDO,MAAOI,IAET5B,OAAOuB,eAAe1C,KAAMmC,EAAY,CACtCQ,MAAOK,IAET7B,OAAOuB,eAAe1C,KAAMkC,EAAU,CACpCS,MAAOM,IAET9B,OAAOuB,eAAe1C,KAAMiC,EAAsB,CAChDU,MAAOO,IAET/B,OAAOuB,eAAe1C,KAAMgC,EAA6B,CACvDW,MAAOQ,IAEThC,OAAOuB,eAAe1C,KAAM+B,EAAoB,CAC9CY,MAAOS,IAETjC,OAAOuB,eAAe1C,KAAM8B,EAAoB,CAC9Ca,MAAOU,IAETlC,OAAOuB,eAAe1C,KAAM6B,EAAwB,CAClDc,MAAOW,IAETnC,OAAOuB,eAAe1C,KAAM4B,EAAqB,CAC/Ce,MAAOY,IAETpC,OAAOuB,eAAe1C,KAAMuB,EAAqB,CAC/CiC,SAAU,KACVb,WAAY,IAEdxB,OAAOuB,eAAe1C,KAAM0B,EAAoB,CAC9C8B,SAAU,KACVb,MAAO,QAET3C,KAAKyD,kBAAoBjC,aAAakC,2BAA2B1D,KAAMkC,GAAUA,GAAUyB,KAAK3D,MAChGA,KAAK4D,oBAAsBpC,aAAakC,2BAA2B1D,KAAMmC,GAAYA,GAAYwB,KAAK3D,KACxG,CACA,kBAAO6D,GACL,IAAIC,EACJtC,aAAakC,2BAA2BlB,EAAYb,GAAWA,IAAcmC,EAAwBtC,aAAakC,2BAA2BlB,EAAYb,GAAWA,KAAe,KAAOmC,EAAwB,IAAItB,EACtN,OAAOhB,aAAakC,2BAA2BlB,EAAYb,GAAWA,EACxE,CACA,QAAAoC,GACEvC,aAAakC,2BAA2B1D,KAAMuB,GAAqBA,GAAuBC,aAAakC,2BAA2B1D,KAAMoC,GAAwBA,KAChK/B,EAAU2D,MAAML,KAAKM,SAAU,QAASjE,KAAKyD,mBAC7CpD,EAAU2D,MAAML,KAAKM,SAAU,UAAWjE,KAAK4D,oBACjD,CACA,UAAAM,GACE1C,aAAakC,2BAA2B1D,KAAMuB,GAAqBA,GAAuBC,aAAakC,2BAA2B1D,KAAMoC,GAAwBA,KAChK/B,EAAU2D,MAAMG,OAAOF,SAAU,QAASjE,KAAKyD,mBAC/CpD,EAAU2D,MAAMG,OAAOF,SAAU,UAAWjE,KAAK4D,oBACnD,CACA,eAAMQ,GACJ,GAAI5C,aAAakC,2BAA2B1D,KAAM0B,GAAoBA,GAAqB,CACzFF,aAAakC,2BAA2B1D,KAAM0B,GAAoBA,GAAsB,MACxF,MACF,CACA,GAAIF,aAAakC,2BAA2B1D,KAAM4B,GAAqBA,KAAwB,CAC7F,MACF,CACA,SAAUJ,aAAakC,2BAA2B1D,KAAM6B,GAAwBA,KAA2B,CACzG,MACF,CACA,GAAIL,aAAakC,2BAA2B1D,KAAM8B,GAAoBA,KAAuB,CAC3F,MACF,CACA,GAAIN,aAAakC,2BAA2B1D,KAAMuC,GAAwBA,KAA2B,CACnG,MACF,CACA,GAAIf,aAAakC,2BAA2B1D,KAAM+B,GAAoBA,KAAuB,CAC3F,MACF,CACA,GAAIP,aAAakC,2BAA2B1D,KAAMgC,GAA6BA,KAAgC,CAC7G,MACF,CACAR,aAAakC,2BAA2B1D,KAAMiC,GAAsBA,IACtE,EAEF,SAASsB,IACP,MAAMc,EAAiB3D,EAAe4D,YAAYT,cAAcQ,iBAEhE,MAAME,EAAkBhE,EAAWiE,mBAAmBD,kBACtD,OAAOF,GAAkBE,GAAmB/C,aAAakC,2BAA2B1D,KAAMsC,GAAyBA,IACrH,CACAmC,eAAenB,IACb,MAAMoB,QAAoBpE,EAAiBqE,aAAaC,UAAUhE,EAAYiE,UAAUC,IAAIC,gBAC5F,OAAOL,EAAYM,SAAS9D,EAAeG,QAC7C,CACA,SAASgC,IACP,MAAM4B,cACJA,GACEhB,SACJ,IAAKgB,EAAe,CAClB,OAAO,KACT,CACA,MAAMC,EAAqB1D,aAAakC,2BAA2B1D,KAAMuB,GAAqBA,GAAqB4D,SAASF,GAC5H,MAAMG,EAAiBH,EAAcI,QAAQ,SAC7C,GAAIH,GAAsBE,EAAgB,CACxCH,EAAcK,OACd,OAAO,IACT,CACA,OAAO,KACT,CACA,SAASlC,IACP,MAAMmC,EAAgB1E,EAAiB2E,cAAc3B,cACrD,MAAM4B,EAAgBF,EAAcG,YACpC,MAAMC,EAAeJ,EAAcI,aAAaF,EAAcG,MAC9D,MAAMC,EAAyBF,GAAgBF,EAAcK,WAAa,GAC1E,GAAID,EAAwB,CAC1B,OAAO,KACT,CACA,GAAIF,EAAc,CAChBJ,EAAcQ,4BAChB,KAAO,CACLvE,aAAakC,2BAA2B1D,KAAMqC,GAAqBA,IACrE,CACA,OAAO,IACT,CACA,SAASc,IACP,MAAM6C,EAASlF,EAAiBmF,gBAAgBpC,cAChD,GAAImC,EAAOE,cAAgBF,EAAOG,YAAa,CAC7CH,EAAOE,aAAaE,QACpB,OAAO,IACT,CACA,OAAO,KACT,CACA,SAASlD,IACP,IAAKnC,EAAkBsF,eAAeC,YAAa,CACjD,OAAO,KACT,CACAtF,EAAqBuF,WAAWC,aAChC,OAAO,IACT,CACA,SAASvD,EAAUwD,GACjB,IAAKhG,EAAgBiG,MAAM5B,IAAI6B,cAAcF,EAAO,UAAW,CAC7D,MACF,MACKzG,KAAKoE,WACZ,CACA,SAASpB,IAEPxB,aAAakC,2BAA2B1D,KAAM0B,GAAoBA,GAAsBzB,GAAG2G,GAAGC,OAAOC,SAASC,QAChH,CACA,SAAShE,IACP,OAAOkB,SAAS+C,cAAc/F,EAChC,CACA,SAAS6B,SACFjC,EAAiB2E,cAAc3B,cAAcoD,UAAU,CAC1DrB,KAAMhF,EAAYsG,OAAOC,KACzBrB,SAAU,IAEd,CACA,SAASjD,IACP,MAAMuE,EAAiBvG,EAAiB2E,cAAc3B,cAAcuD,iBACpE,GAAIA,EAAgB,CAClB,OAAO5G,EAAe6G,UAAUP,SAASQ,sBAAwB,CACnE,CACA,OAAQxG,EAAiBmF,gBAAgBpC,cAAcsC,WACzD,CACA,SAASvD,IACP,MAAM2E,EAAoB5G,EAAuB6G,KAAKC,WAAWC,QAAQ,+BACzE,GAAIH,EAAmB,CACrBjH,EAAiBqE,aAAagD,KAAK/G,EAAYiE,UAAU+C,OAAOC,cAClE,CACA,OAAON,CACT,CACApG,OAAOuB,eAAeF,EAAYb,EAAW,CAC3C6B,SAAU,KACVb,WAAY,IAGdvC,EAAQc,eAAiBA,EACzBd,EAAQoC,WAAaA,CAEtB,EAjNA,CAiNGxC,KAAKC,GAAGC,UAAUC,GAAG2H,IAAM9H,KAAKC,GAAGC,UAAUC,GAAG2H,KAAO,CAAC,EAAG7H,GAAGA,GAAG+D,MAAM/D,GAAG8H,KAAK9H,GAAGoH,UAAUpH,GAAGC,UAAUC,GAAG2H,IAAI7H,GAAGC,UAAUC,GAAG2H,IAAI7H,GAAGC,UAAUC,GAAG6H,YAAY/H,GAAGC,UAAUC,GAAG8H,MAAMhI,GAAGC,UAAUC,GAAG2H,IAAI7H,GAAGC,UAAUC,GAAG2H,IAAI7H,GAAGC,UAAUC,GAAG2H,IAAI7H,GAAGC,UAAUC,GAAG2H","ignoreList":[]}