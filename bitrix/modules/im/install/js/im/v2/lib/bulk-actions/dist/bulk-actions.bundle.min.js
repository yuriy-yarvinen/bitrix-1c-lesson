this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,t,i,a){"use strict";var l=babelHelpers.classPrivateFieldLooseKey("instance");var r=babelHelpers.classPrivateFieldLooseKey("bindEscHandler");var o=babelHelpers.classPrivateFieldLooseKey("unbindEscHandler");var n=babelHelpers.classPrivateFieldLooseKey("onKeyPressCloseBulkActions");class c{static getInstance(){if(!babelHelpers.classPrivateFieldLooseBase(this,l)[l]){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=new this}return babelHelpers.classPrivateFieldLooseBase(this,l)[l]}static init(){c.getInstance()}constructor(){Object.defineProperty(this,n,{value:v});Object.defineProperty(this,o,{value:b});Object.defineProperty(this,r,{value:d});s.EventEmitter.subscribe(t.EventType.dialog.openBulkActionsMode,this.enableBulkMode.bind(this));s.EventEmitter.subscribe(t.EventType.dialog.closeBulkActionsMode,this.disableBulkMode.bind(this));this.keyPressHandler=babelHelpers.classPrivateFieldLooseBase(this,n)[n].bind(this)}enableBulkMode(e){const{messageId:s,dialogId:t}=e.getData();void i.Core.getStore().dispatch("messages/select/enableBulkMode",{messageId:s,dialogId:t});babelHelpers.classPrivateFieldLooseBase(this,r)[r]()}disableBulkMode(e){const{dialogId:s}=e.getData();void i.Core.getStore().dispatch("messages/select/disableBulkMode",{dialogId:s});babelHelpers.classPrivateFieldLooseBase(this,o)[o]()}clearCollection(){void i.Core.getStore().dispatch("messages/select/clearCollection");babelHelpers.classPrivateFieldLooseBase(this,o)[o]()}}function d(){s.EventEmitter.subscribe(t.EventType.key.onBeforeEscape,this.keyPressHandler)}function b(){s.EventEmitter.unsubscribe(t.EventType.key.onBeforeEscape,this.keyPressHandler)}function v(){this.clearCollection();return a.EscEventAction.handled}Object.defineProperty(c,l,{writable:true,value:void 0});e.BulkActionsManager=c})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.Event,BX.Messenger.v2.Const,BX.Messenger.v2.Application,BX.Messenger.v2.Lib);
//# sourceMappingURL=bulk-actions.bundle.map.js