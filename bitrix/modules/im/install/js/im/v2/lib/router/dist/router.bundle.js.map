{"version":3,"file":"router.bundle.js","sources":["../src/router.js"],"sourcesContent":["import { Messenger } from 'im.public';\nimport { GetParameter, NavigationMenuItem } from 'im.v2.const';\n\nexport const Router = {\n\tinit()\n\t{\n\t\tRouter.checkGetParams();\n\t},\n\tcheckGetParams(): void\n\t{\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tif (urlParams.has(GetParameter.openNotifications))\n\t\t{\n\t\t\tvoid Messenger.openNotifications();\n\t\t}\n\t\telse if (urlParams.has(GetParameter.openHistory))\n\t\t{\n\t\t\tconst dialogId = urlParams.get(GetParameter.openHistory);\n\t\t\tvoid Messenger.openLinesHistory(dialogId);\n\t\t}\n\t\telse if (urlParams.has(GetParameter.openLines))\n\t\t{\n\t\t\tconst dialogId = urlParams.get(GetParameter.openLines);\n\t\t\tvoid Messenger.openLines(dialogId);\n\t\t}\n\t\telse if (urlParams.has(GetParameter.botContext))\n\t\t{\n\t\t\tconst dialogId = urlParams.get(GetParameter.openChat);\n\t\t\tconst context = urlParams.get(GetParameter.botContext);\n\n\t\t\tvoid Messenger.openChatWithBotContext(dialogId, context);\n\t\t}\n\t\telse if (urlParams.has(GetParameter.openChat))\n\t\t{\n\t\t\tconst dialogId = urlParams.get(GetParameter.openChat);\n\t\t\tvoid Messenger.openChat(dialogId, extractMessageId(urlParams));\n\t\t}\n\t\telse if (urlParams.has(GetParameter.openSettings))\n\t\t{\n\t\t\tconst settingsSection = urlParams.get(GetParameter.openSettings);\n\t\t\tvoid Messenger.openSettings({ onlyPanel: settingsSection?.toLowerCase() });\n\t\t}\n\t\telse if (urlParams.has(GetParameter.openCopilotChat))\n\t\t{\n\t\t\tconst dialogId = urlParams.get(GetParameter.openCopilotChat);\n\t\t\tvoid Messenger.openCopilot(dialogId);\n\t\t}\n\t\telse if (urlParams.has(GetParameter.openChannel))\n\t\t{\n\t\t\tconst dialogId = urlParams.get(GetParameter.openChannel);\n\t\t\tvoid Messenger.openNavigationItem({\n\t\t\t\tid: NavigationMenuItem.channel,\n\t\t\t\tentityId: dialogId,\n\t\t\t});\n\t\t}\n\t\telse if (urlParams.has(GetParameter.openCollab))\n\t\t{\n\t\t\tconst dialogId = urlParams.get(GetParameter.openCollab);\n\t\t\tvoid Messenger.openCollab(dialogId ?? '');\n\t\t}\n\t\telse if (urlParams.has(GetParameter.openTaskComments))\n\t\t{\n\t\t\tconst dialogId = urlParams.get(GetParameter.openTaskComments);\n\n\t\t\tvoid Messenger.openTaskComments(dialogId ?? '', extractMessageId(urlParams));\n\t\t}\n\t},\n};\n\nconst extractMessageId = (urlParams: URLSearchParams): number => {\n\tlet messageId = urlParams.get(GetParameter.openMessage);\n\tmessageId = messageId ? Number(messageId) : 0;\n\n\treturn messageId;\n};\n"],"names":["Router","init","checkGetParams","urlParams","URLSearchParams","window","location","search","has","GetParameter","openNotifications","Messenger","openHistory","dialogId","get","openLinesHistory","openLines","botContext","openChat","context","openChatWithBotContext","extractMessageId","openSettings","settingsSection","onlyPanel","toLowerCase","openCopilotChat","openCopilot","openChannel","openNavigationItem","id","NavigationMenuItem","channel","entityId","openCollab","openTaskComments","messageId","openMessage","Number"],"mappings":"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"}