{"version":3,"file":"chat.bundle.js","sources":["../src/chat.js"],"sourcesContent":["import { Core } from 'im.v2.application.core';\nimport { GetParameter, Path, ChatType } from 'im.v2.const';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nconst GetParameterByChatType = {\n\t[ChatType.taskComments]: GetParameter.openTaskComments,\n};\n\nexport const ChatManager = {\n\tbuildChatLink(dialogId: string): string\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatGetParameter = GetParameterByChatType[chat.type] ?? GetParameter.openChat;\n\t\tconst getParams = new URLSearchParams({\n\t\t\t[chatGetParameter]: dialogId,\n\t\t});\n\n\t\treturn `${Core.getHost()}${Path.online}?${getParams.toString()}`;\n\t},\n\n\tbuildMessageLink(dialogId: string, messageId: number): string\n\t{\n\t\tconst chatLink = this.buildChatLink(dialogId);\n\t\tconst chatUrl = new URL(chatLink);\n\t\tchatUrl.searchParams.set(GetParameter.openMessage, messageId.toString());\n\n\t\treturn chatUrl.toString();\n\t},\n};\n"],"names":["GetParameterByChatType","ChatType","taskComments","GetParameter","openTaskComments","ChatManager","buildChatLink","dialogId","chat","Core","getStore","getters","chatGetParameter","type","openChat","getParams","URLSearchParams","getHost","Path","online","toString","buildMessageLink","messageId","chatLink","chatUrl","URL","searchParams","set","openMessage"],"mappings":";;;;;;;CAKA,MAAMA,sBAAsB,GAAG;GAC9B,CAACC,oBAAQ,CAACC,YAAY,GAAGC,wBAAY,CAACC;CACvC,CAAC;AAED,OAAaC,WAAW,GAAG;GAC1BC,aAAa,CAACC,QAAgB,EAC9B;KAAA;KACC,MAAMC,IAAiB,GAAGC,2BAAI,CAACC,QAAQ,EAAE,CAACC,OAAO,CAAC,WAAW,CAAC,CAACJ,QAAQ,CAAC;KACxE,MAAMK,gBAAgB,4BAAGZ,sBAAsB,CAACQ,IAAI,CAACK,IAAI,CAAC,oCAAIV,wBAAY,CAACW,QAAQ;KACnF,MAAMC,SAAS,GAAG,IAAIC,eAAe,CAAC;OACrC,CAACJ,gBAAgB,GAAGL;MACpB,CAAC;KAEF,OAAQ,GAAEE,2BAAI,CAACQ,OAAO,EAAG,GAAEC,gBAAI,CAACC,MAAO,IAAGJ,SAAS,CAACK,QAAQ,EAAG,EAAC;IAChE;GAEDC,gBAAgB,CAACd,QAAgB,EAAEe,SAAiB,EACpD;KACC,MAAMC,QAAQ,GAAG,IAAI,CAACjB,aAAa,CAACC,QAAQ,CAAC;KAC7C,MAAMiB,OAAO,GAAG,IAAIC,GAAG,CAACF,QAAQ,CAAC;KACjCC,OAAO,CAACE,YAAY,CAACC,GAAG,CAACxB,wBAAY,CAACyB,WAAW,EAAEN,SAAS,CAACF,QAAQ,EAAE,CAAC;KAExE,OAAOI,OAAO,CAACJ,QAAQ,EAAE;;CAE3B,CAAC;;;;;;;;"}