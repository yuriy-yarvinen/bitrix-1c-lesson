this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{};(function(t,e,s,i){"use strict";const o="#popup-window-content-";const n="10px";const p={name:"MessengerPopup",props:{id:{type:String,required:true},config:{type:Object,required:false,default(){return{}}}},emits:["close","popupDragStart"],computed:{popupContainer(){return`${o}${this.id}`}},created(){i.Logger.warn(`Popup: ${this.id} created`);this.instance=this.getPopupInstance();this.instance.show()},mounted(){this.instance.adjustPosition({forceBindPosition:true,position:this.getPopupConfig().bindOptions.position})},beforeUnmount(){if(!this.instance){return}this.closePopup()},methods:{getPopupInstance(){if(!this.instance){var t;(t=e.PopupManager.getPopupById(this.id))==null?void 0:t.destroy();this.instance=new e.Popup(this.getPopupConfig())}return this.instance},getDefaultConfig(){return{id:this.id,bindOptions:{position:"bottom"},offsetTop:0,offsetLeft:0,className:"bx-im-messenger__scope",cacheable:false,closeIcon:false,autoHide:true,closeByEsc:true,animation:"fading",events:{onPopupClose:this.closePopup.bind(this),onPopupDestroy:this.closePopup.bind(this),onDragStart:this.dragStart.bind(this)},contentBorderRadius:n}},getPopupConfig(){var t,e;const i=this.getDefaultConfig();const o={};const n=i.className;if(this.config.className){o.className=`${n} ${this.config.className}`}const p=(t=this.config.offsetTop)!=null?t:i.offsetTop;if(((e=this.config.bindOptions)==null?void 0:e.position)==="top"&&s.Type.isNumber(this.config.offsetTop)){o.offsetTop=p-10}return{...i,...this.config,...o}},closePopup(){i.Logger.warn(`Popup: ${this.id} closing`);this.$emit("close");this.instance.destroy();this.instance=null},dragStart(){this.$emit("popupDragStart")},enableAutoHide(){this.getPopupInstance().setAutoHide(true)},disableAutoHide(){this.getPopupInstance().setAutoHide(false)},adjustPosition(){this.getPopupInstance().adjustPosition({forceBindPosition:true,position:this.getPopupConfig().bindOptions.position})}},template:`\n\t\t<Teleport :to="popupContainer">\n\t\t\t<slot\n\t\t\t\t:adjustPosition="adjustPosition"\n\t\t\t\t:enableAutoHide="enableAutoHide"\n\t\t\t\t:disableAutoHide="disableAutoHide"\n\t\t\t></slot>\n\t\t</Teleport>\n\t`};t.MessengerPopup=p})(this.BX.Messenger.v2.Component.Elements=this.BX.Messenger.v2.Component.Elements||{},BX.Main,BX,BX.Messenger.v2.Lib);
//# sourceMappingURL=popup.bundle.map.js