this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(t,e,n,s,o,i,a,r,C,l,g,c,m,p,u,L,h,v,M,y,d,B,X,_,b,I,O,f,k,x,R){"use strict";const N={[v.Layout.chat]:{list:x.RecentListContainer,content:M.ChatContent},[v.Layout.createChat]:{list:x.RecentListContainer,content:y.CreateChatContent},[v.Layout.updateChat]:{list:x.RecentListContainer,content:y.UpdateChatContent},[v.Layout.channel]:{list:I.ChannelListContainer,content:M.ChatContent},[v.Layout.notification]:{list:x.RecentListContainer,content:B.NotificationContent},[v.Layout.openlines]:{content:X.OpenlinesContent},[v.Layout.openlinesV2]:{list:k.OpenlineListContainer,content:_.OpenlinesV2Content},[v.Layout.conference]:{list:x.RecentListContainer,content:M.ChatContent},[v.Layout.settings]:{content:b.SettingsContent},[v.Layout.copilot]:{list:f.CopilotListContainer,content:M.ChatContent},[v.Layout.collab]:{list:O.CollabListContainer,content:M.ChatContent},[v.Layout.market]:{content:d.MarketContent},[v.Layout.taskComments]:{list:R.TaskListContainer,content:M.ChatContent}};const w={name:"MessengerRoot",components:{OpenlinesContent:X.OpenlinesContent},data(){return{openlinesContentOpened:false}},computed:{layout(){return this.$store.getters["application/getLayout"]},layoutName(){return this.layout.name},entityId(){return this.layout.entityId},hasListComponent(){return Boolean(this.listComponent)},listComponent(){return N[this.layoutName].list},contentComponent(){return N[this.layoutName].content},isOpenline(){return this.layout.name===v.Layout.openlines},containerClasses(){return{"--dark-theme":u.ThemeManager.isDarkTheme(),"--light-theme":u.ThemeManager.isLightTheme(),"--desktop":L.DesktopManager.isDesktop()}}},watch:{layoutName:{handler(t){if(t!==v.Layout.openlines){return}this.openlinesContentOpened=true},immediate:true}},created(){m.InitManager.start();l.CounterManager.getInstance().emitCounters();h.LayoutManager.init();c.Logger.warn("MessengerRoot created");void this.getLayoutManager().prepareInitialLayout()},mounted(){g.EscManager.getInstance().register()},beforeUnmount(){this.getLayoutManager().destroy();g.EscManager.getInstance().unregister()},methods:{onEntitySelect({layoutName:t,entityId:e}){void this.getLayoutManager().setLayout({name:t,entityId:e})},getLayoutManager(){return h.LayoutManager.getInstance()}},template:`\n\t\t<div class="bx-im-messenger__scope bx-im-messenger__container" :class="containerClasses">\n\t\t\t<div class="bx-im-messenger__layout_container">\n\t\t\t\t<div class="bx-im-messenger__layout_content">\n\t\t\t\t\t<div v-if="hasListComponent" class="bx-im-messenger__list_container">\n\t\t\t\t\t\t<KeepAlive>\n\t\t\t\t\t\t\t<component :is="listComponent" @selectEntity="onEntitySelect" />\n\t\t\t\t\t\t</KeepAlive>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-im-messenger__content_container" :class="{'--with-list': hasListComponent}">\n\t\t\t\t\t\t<div v-if="openlinesContentOpened" class="bx-im-messenger__openlines_container" :class="{'--hidden': !isOpenline}">\n\t\t\t\t\t\t\t<OpenlinesContent v-show="isOpenline" :entityId="entityId" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<component v-if="!isOpenline" :is="contentComponent" :entityId="entityId" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`};t.Messenger=w})(this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{},BX,BX,BX.Messenger.Integration.Viewer,BX,BX,BX.Messenger.v2.Css,BX.Messenger.v2.Css,BX.Messenger.v2.Css,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Const,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.List,BX.Messenger.v2.Component.List,BX.Messenger.v2.Component.List,BX.Messenger.v2.Component.List,BX.Messenger.v2.Component.List,BX.Messenger.v2.Component.List);
//# sourceMappingURL=messenger.bundle.map.js