this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{};(function(t,s,e,n){"use strict";const r=1024*1024*2;const i=(t,s)=>{if(s<r){return n.Loc.getMessage("IM_ELEMENTS_PROGRESSBAR_UPLOAD_LOADING")}const e=s/100*t;const i=`${o(e)} ${n.Loc.getMessage("IM_ELEMENTS_PROGRESSBAR_SIZE_MB")}`;const a=`${o(s)} ${n.Loc.getMessage("IM_ELEMENTS_PROGRESSBAR_SIZE_MB")}`;return`${i} / ${a}`};const o=t=>(t/1024/1024).toFixed(2);const a=Object.freeze({S:"S",L:"L"});const l=1;const c={name:"ProgressBar",components:{BIcon:s.BIcon},props:{item:{type:Object,required:true},size:{type:String,default:a.L},handleStatus:{type:Array,default:()=>[e.FileStatus.progress,e.FileStatus.upload]},statusMap:{type:Object,default:()=>({})}},emits:["cancelClick"],computed:{Color:()=>e.Color,OutlineIcons:()=>s.Outline,file(){return this.item},needProgressBar(){return this.handleStatus.includes(this.file.status)},progressStyles(){const t=23;const s=2*Math.PI*t;const e=Math.max(this.file.progress,l);const n=s-e/100*s;return{strokeDasharray:s,strokeDashoffset:n}},labelText(){var t,s;if((t=this.statusMap)!=null&&(s=t[this.file.status])!=null&&s.labelText){var e,n;return(e=this.statusMap)==null?void 0:(n=e[this.file.status])==null?void 0:n.labelText}return i(this.file.progress,this.file.size)},iconClass(){var t,e;if((t=this.statusMap)!=null&&(e=t[this.file.status])!=null&&e.iconClass){return this.statusMap[this.file.status].iconClass}return s.Outline.CROSS_L},containerClass(){return`--size-${this.size.toLowerCase()}`},needLabel(){return this.size===a.L},iconSize(){return this.size===a.L?28:24}},methods:{onLoaderClick(){if(!this.handleStatus.includes(this.file.status)){return}this.$emit("cancelClick",{file:this.file})},loc(t){return this.$Bitrix.Loc.getMessage(t)}},template:`\n\t\t<div \n\t\t\tv-if="needProgressBar"\n\t\t\t:class="containerClass"\n\t\t\tclass="bx-im-progress-bar__container" \n\t\t>\n\t\t\t<div class="bx-im-progress-bar__loader" @click="onLoaderClick">\n\t\t\t\t<svg viewBox="0 0 48 48">\n\t\t\t\t\t<circle\n\t\t\t\t\t\t:style="progressStyles"\n\t\t\t\t\t\tclass="bx-im-progress-bar__loader-progress" \n\t\t\t\t\t\tcx="24" \n\t\t\t\t\t\tcy="24" \n\t\t\t\t\t\tr="23"\n\t\t\t\t\t></circle>\n\t\t\t\t</svg>\n\t\t\t\t<BIcon\n\t\t\t\t\t:name="iconClass"\n\t\t\t\t\t:color="Color.white"\n\t\t\t\t\t:size="iconSize"\n\t\t\t\t\tclass="bx-im-progress-bar__loader-icon"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div v-if="needLabel" class="bx-im-progress-bar__label">\n\t\t\t\t{{ labelText }}\n\t\t\t</div>\n\t\t</div>\n\t`};t.ProgressBarSize=a;t.ProgressBar=c})(this.BX.Messenger.v2.Component.Elements=this.BX.Messenger.v2.Component.Elements||{},BX.UI.IconSet,BX.Messenger.v2.Const,BX);
//# sourceMappingURL=progressbar.bundle.map.js