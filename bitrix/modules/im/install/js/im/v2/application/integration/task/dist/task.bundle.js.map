{"version":3,"file":"task.bundle.js","sources":["../src/components/content/components/header.js","../src/components/content/task-content.js","../src/components/placeholder/functions/init-demo-state.js","../src/components/placeholder/placeholder.js","../src/components/task-chat-opener.js","../src/task.js"],"sourcesContent":["import { LineLoader } from 'im.v2.component.elements.loader';\nimport { FadeAnimation } from 'im.v2.component.animation';\nimport { ChatHeader, UserCounter } from 'im.v2.component.content.elements';\n\nimport '../css/header.css';\n\nimport type { ImModelChat } from 'im.v2.model';\n\n// @vue/component\nexport const TaskChatHeader = {\n\tname: 'TaskChatHeader',\n\tcomponents: { ChatHeader, UserCounter, LineLoader, FadeAnimation },\n\tprops:\n\t{\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t\tisInited(): boolean\n\t\t{\n\t\t\treturn this.dialog.inited;\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<ChatHeader\n\t\t\t:dialogId=\"dialogId\"\n\t\t\t:withAddToChatButton=\"false\"\n\t\t>\n\t\t\t<template #left>\n\t\t\t\t<div class=\"bx-im-task-chat-header__left_container\">\n\t\t\t\t\t<div class=\"bx-im-task-chat-header__avatar\"></div>\n\t\t\t\t\t<div class=\"bx-im-task-chat-header__info\">\n\t\t\t\t\t\t<div class=\"bx-im-task-chat-header__title\">{{ loc('IM_TASK_CHAT_HEADER_TITLE') }}</div>\n\t\t\t\t\t\t<LineLoader v-if=\"!isInited\" :width=\"50\" :height=\"16\" />\n\t\t\t\t\t\t<FadeAnimation :duration=\"100\">\n\t\t\t\t\t\t\t<UserCounter v-if=\"isInited\" :dialogId=\"dialogId\" />\n\t\t\t\t\t\t</FadeAnimation>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</ChatHeader>\n\t`,\n};\n","import { EventEmitter, type BaseEvent } from 'main.core.events';\n\nimport { BaseChatContent } from 'im.v2.component.content.elements';\nimport { ChatTextarea } from 'im.v2.component.textarea';\nimport { ChatDialog } from 'im.v2.component.dialog.chat';\nimport { EventType } from 'im.v2.const';\nimport { NotifierShowMessageAction } from 'im.v2.lib.message-notifier';\n\nimport { TaskChatHeader } from './components/header';\n\n// @vue/component\nexport const TaskChatContent = {\n\tname: 'TaskChatContent',\n\tcomponents: { BaseChatContent, TaskChatHeader, ChatDialog, ChatTextarea },\n\tprops:\n\t{\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\twithSidebar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tEventEmitter.subscribe(EventType.notifier.onBeforeShowMessage, this.onBeforeNotificationShow);\n\t},\n\tbeforeUnmount()\n\t{\n\t\tEventEmitter.unsubscribe(EventType.notifier.onBeforeShowMessage, this.onBeforeNotificationShow);\n\t},\n\tmethods: {\n\t\tonBeforeNotificationShow(event: BaseEvent<{ dialogId: string }>): $Values<typeof NotifierShowMessageAction>\n\t\t{\n\t\t\tconst eventData = event.getData();\n\t\t\tif (eventData.dialogId !== this.dialogId)\n\t\t\t{\n\t\t\t\treturn NotifierShowMessageAction.show;\n\t\t\t}\n\n\t\t\treturn NotifierShowMessageAction.skip;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseChatContent :dialogId=\"dialogId\" :withSidebar=\"withSidebar\">\n\t\t\t<template #header>\n\t\t\t\t<TaskChatHeader :dialogId=\"dialogId\" />\n\t\t\t</template>\n\t\t\t<template #dialog>\n\t\t\t\t<ChatDialog\n\t\t\t\t\t:dialogId=\"dialogId\"\n\t\t\t\t\t:key=\"dialogId\"\n\t\t\t\t\t:reloadOnExit=\"false\"\n\t\t\t\t/>\n\t\t\t</template>\n\t\t\t<template #textarea=\"{ onTextareaMount }\">\n\t\t\t\t<ChatTextarea\n\t\t\t\t\t:dialogId=\"dialogId\"\n\t\t\t\t\t:key=\"dialogId\"\n\t\t\t\t\t:withMarket=\"false\"\n\t\t\t\t\t:withAutoFocus=\"false\"\n\t\t\t\t\t@mounted=\"onTextareaMount\"\n\t\t\t\t/>\n\t\t\t</template>\n\t\t</BaseChatContent>\n\t`,\n};\n","import { MessageComponent } from 'im.v2.const';\nimport { DemoChatBuilder } from 'im.v2.lib.demo';\n\nexport const initDemoState = (): string => {\n\tconst chatBuilder = new DemoChatBuilder();\n\n\tconst { dialogId } = chatBuilder.addChat();\n\n\tchatBuilder.addMessage({\n\t\ttext: dialogId,\n\t\tcomponentId: MessageComponent.taskChatCreationMessage,\n\t});\n\n\tchatBuilder.save();\n\n\treturn dialogId;\n};\n","import { EventEmitter, BaseEvent } from 'main.core.events';\n\nimport { Settings, EventType } from 'im.v2.const';\nimport { ThemeManager, type BackgroundStyle } from 'im.v2.lib.theme';\n\nimport { TaskChatContent } from '../content/task-content';\nimport { initDemoState } from './functions/init-demo-state';\n\nimport './css/placeholder.css';\n\ntype MembersCountChangeEvent = BaseEvent<{ taskId: number | string, userCounter: number }>;\n\n// @vue/component\nexport const TaskChatPlaceholder = {\n\tname: 'TaskChatPlaceholder',\n\tcomponents: { TaskChatContent },\n\tprops:\n\t{\n\t\ttaskId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata(): { fakeDialogId: string }\n\t{\n\t\treturn {\n\t\t\tfakeDialogId: '',\n\t\t\tchatMembersCount: 1,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tcontainerClasses(): string[]\n\t\t{\n\t\t\tconst alignment = this.$store.getters['application/settings/get'](Settings.appearance.alignment);\n\n\t\t\treturn [`--${alignment}-align`];\n\t\t},\n\t\tbackgroundStyle(): BackgroundStyle\n\t\t{\n\t\t\treturn ThemeManager.getCurrentBackgroundStyle();\n\t\t},\n\t},\n\tcreated(): void\n\t{\n\t\tthis.fakeDialogId = initDemoState();\n\t\tthis.bindEvents();\n\t},\n\tbeforeUnmount(): void\n\t{\n\t\tthis.unbindEvents();\n\t},\n\tmethods:\n\t{\n\t\tbindEvents()\n\t\t{\n\t\t\tEventEmitter.subscribe(EventType.task.onMembersCountChange, this.onMembersCountChange);\n\t\t},\n\t\tunbindEvents()\n\t\t{\n\t\t\tEventEmitter.unsubscribe(EventType.task.onMembersCountChange, this.onMembersCountChange);\n\t\t},\n\t\tonMembersCountChange(event: MembersCountChangeEvent): void\n\t\t{\n\t\t\tconst { taskId, userCounter } = event.getData();\n\t\t\tif (taskId !== this.taskId)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$store.dispatch('chats/update', {\n\t\t\t\tdialogId: this.fakeDialogId,\n\t\t\t\tfields: { userCounter },\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-task-chat-placeholder__container bx-im-messenger__scope\">\n\t\t\t<TaskChatContent :dialogId=\"fakeDialogId\" :withSidebar=\"false\" />\n\t\t\t<div class=\"bx-im-task-chat-placeholder__overlay\"></div>\n\t\t</div>\n\t`,\n};\n","import 'im.v2.css.classes';\nimport 'im.v2.css.icons';\nimport 'im.v2.css.tokens';\n\nimport { Logger } from 'im.v2.lib.logger';\nimport { ChatService } from 'im.v2.provider.service.chat';\n\nimport { TaskChatPlaceholder } from './placeholder/placeholder';\nimport { TaskChatContent } from './content/task-content';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nimport './css/task-chat-opener.css';\n\n// @vue/component\nexport const TaskChatOpener = {\n\tname: 'TaskChatOpener',\n\tcomponents: { TaskChatContent, TaskChatPlaceholder },\n\tprops: {\n\t\tchatId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tchatType: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/getByChatId'](this.chatId, true);\n\t\t},\n\t\tdialogId(): string\n\t\t{\n\t\t\treturn this.dialog.dialogId;\n\t\t},\n\t},\n\tcreated(): Promise\n\t{\n\t\treturn this.onChatOpen();\n\t},\n\tmethods: {\n\t\tasync onChatOpen()\n\t\t{\n\t\t\tif (this.dialog.inited)\n\t\t\t{\n\t\t\t\tLogger.warn(`TaskChatOpener: chat ${this.chatId} is already loaded`);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait this.loadChat();\n\t\t},\n\t\tasync loadChat(): Promise\n\t\t{\n\t\t\tLogger.warn(`TaskChatOpener: loading chat ${this.chatId}`);\n\t\t\tawait this.getChatService().loadChatByChatId(this.chatId);\n\t\t\tLogger.warn(`TaskChatOpener: chat ${this.chatId} is loaded`);\n\t\t},\n\t\tgetChatService(): ChatService\n\t\t{\n\t\t\tif (!this.chatService)\n\t\t\t{\n\t\t\t\tthis.chatService = new ChatService();\n\t\t\t}\n\n\t\t\treturn this.chatService;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-messenger__scope bx-im-task-chat-opener__container\">\n\t\t\t<TaskChatContent :dialogId=\"dialogId\" />\n\t\t</div>\n\t`,\n};\n","import { Text } from 'main.core';\n\nimport { Core } from 'im.v2.application.core';\nimport { SidebarPullHandler } from 'im.v2.provider.pull';\n\nimport { TaskChatOpener } from './components/task-chat-opener';\nimport { TaskChatPlaceholder } from './components/placeholder/placeholder';\n\nimport type { RunActionError } from 'im.v2.lib.rest';\n\nconst APP_NAME = 'TaskChatApplication';\nconst PLACEHOLDER_APP_NAME = 'TaskChatPlaceholderApplication';\n\ntype MountPayload = {\n\trootContainer: string | HTMLElement,\n\tchatId: number,\n\tonError: (RunActionError[]) => void,\n\ttype: string,\n};\n\ntype MountPlaceholderPayload = {\n\trootContainer: string | HTMLElement,\n\ttaskId: number | string,\n};\n\nexport class TaskApplication\n{\n\t#initPromise: Promise<TaskApplication>;\n\n\tconstructor()\n\t{\n\t\tthis.#initPromise = this.#init();\n\t\tthis.#initPull();\n\t}\n\n\tready(): Promise\n\t{\n\t\treturn this.#initPromise;\n\t}\n\n\tasync mount(payload: MountPayload): Promise\n\t{\n\t\tawait this.ready();\n\n\t\tconst { rootContainer, chatId, onError, type } = payload;\n\t\tif (!rootContainer)\n\t\t{\n\t\t\treturn Promise.reject(new Error('Provide node or selector for root container'));\n\t\t}\n\n\t\tif (!type)\n\t\t{\n\t\t\treturn Promise.reject(new Error('Provide custom chat type name for task chat'));\n\t\t}\n\n\t\tconst preparedChatType = Text.toCamelCase(type);\n\n\t\treturn Core.createVue(this, {\n\t\t\tname: APP_NAME,\n\t\t\tel: rootContainer,\n\t\t\tonError,\n\t\t\tcomponents: { TaskChatOpener },\n\t\t\ttemplate: `<TaskChatOpener :chatId=\"${chatId}\" chatType=\"${preparedChatType}\" />`,\n\t\t});\n\t}\n\n\tasync mountPlaceholder(payload: MountPlaceholderPayload): Promise\n\t{\n\t\tawait this.ready();\n\n\t\tconst { rootContainer, taskId } = payload;\n\t\tif (!rootContainer)\n\t\t{\n\t\t\treturn Promise.reject(new Error('Provide node or selector for root container'));\n\t\t}\n\n\t\treturn Core.createVue(this, {\n\t\t\tname: PLACEHOLDER_APP_NAME,\n\t\t\tel: rootContainer,\n\t\t\tcomponents: { TaskChatPlaceholder },\n\t\t\ttemplate: `<TaskChatPlaceholder :taskId=\"${taskId}\" />`,\n\t\t});\n\t}\n\n\tasync #init(): Promise<TaskApplication>\n\t{\n\t\tawait Core.ready();\n\n\t\treturn this;\n\t}\n\n\tasync #initPull(): void\n\t{\n\t\tawait this.ready();\n\n\t\tCore.getPullClient().subscribe(new SidebarPullHandler());\n\t}\n}\n"],"names":["TaskChatHeader","name","components","ChatHeader","UserCounter","LineLoader","FadeAnimation","props","dialogId","type","String","default","computed","dialog","$store","getters","isInited","inited","methods","loc","phraseCode","$Bitrix","Loc","getMessage","template","TaskChatContent","BaseChatContent","ChatDialog","ChatTextarea","withSidebar","Boolean","created","EventEmitter","subscribe","EventType","notifier","onBeforeShowMessage","onBeforeNotificationShow","beforeUnmount","unsubscribe","event","eventData","getData","NotifierShowMessageAction","show","skip","initDemoState","chatBuilder","DemoChatBuilder","addChat","addMessage","text","componentId","MessageComponent","taskChatCreationMessage","save","TaskChatPlaceholder","taskId","Number","required","data","fakeDialogId","chatMembersCount","containerClasses","alignment","Settings","appearance","backgroundStyle","ThemeManager","getCurrentBackgroundStyle","bindEvents","unbindEvents","task","onMembersCountChange","userCounter","dispatch","fields","TaskChatOpener","chatId","chatType","onChatOpen","Logger","warn","loadChat","getChatService","loadChatByChatId","chatService","ChatService","APP_NAME","PLACEHOLDER_APP_NAME","TaskApplication","constructor","ready","mount","payload","rootContainer","onError","Promise","reject","Error","preparedChatType","Text","toCamelCase","Core","createVue","el","mountPlaceholder","getPullClient","SidebarPullHandler"],"mappings":"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"}