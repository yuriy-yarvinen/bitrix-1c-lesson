this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,t,i,n){"use strict";const s={task:"task",aiAssistantWidget:"aiAssistantWidget"};const a=new Set(["Launch","Core"]);const r=async(e,n={})=>{const{embedded:s=false}=n;if(!c(e)){i.Logger.error("BX.Messenger.Application.Launch: specified name is forbidden");return Promise.reject()}if(!o(e)){await p(e,s)}const a=t.Text.capitalize(e);const r=`${a}Application`;const g=l(e,s);try{BX.Messenger.v2.Application[g]=new BX.Messenger.v2.Application[r](n);return BX.Messenger.v2.Application[g].ready()}catch(e){const t=`BX.Messenger.Application.Launch: application "${a}" is not initialized.`;i.Logger.error(t,e);return Promise.reject(t)}};const c=e=>{const i=t.Text.capitalize(e);return!a.has(i)&&!i.endsWith("Application")};const o=e=>{const i=t.Text.capitalize(e);const n=`${i}Application`;return Boolean(BX.Messenger.v2.Application[n])};const p=async(e,i)=>{const n=i?`im.v2.application.integration.${e}`:`im.v2.application.${e}`;return t.Runtime==null?void 0:t.Runtime.loadExtension(n)};const l=(e,t)=>{if(t){return`${e}_${n.Utils.text.getUuidV4()}`}return e};e.Launch=r;e.ChatEmbeddedApplication=s})(this.BX.Messenger.v2.Application=this.BX.Messenger.v2.Application||{},BX,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib);
//# sourceMappingURL=launch.bundle.map.js