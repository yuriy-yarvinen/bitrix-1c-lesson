<? namespace Bitrix\Main;$GLOBALS['____895908271']= array(base64_decode('ZmlsZV9le'.'GlzdHM='),base64_decode('c3RydG91cHBlcg'.'='.'='),base64_decode('bWQ1'),base64_decode(''.'bWQ1'),base64_decode('a'.'W5f'.'YXJ'.'yYXk='),base64_decode('aW5f'.'YXJ'.'yYXk'.'='),base64_decode('aW5fYXJyYXk='),base64_decode(''.'ZG'.'VmaW'.'5'.'lZA=='),base64_decode('Z'.'G'.'VmaW5l'.'ZA=='),base64_decode('ZGVmaW5l'.'ZA'.'=='),base64_decode('Z'.'mlsZV'.'9'.'leGl'.'zdHM='),base64_decode('Z'.'mlsZV9le'.'GlzdH'.'M='),base64_decode(''.'Zm'.'lsZ'.'V9leG'.'lzdHM='),base64_decode(''.'ZmlsZV9leGlz'.'dHM='),base64_decode('ZXhwbG9kZQ'.'=='));if(!function_exists(__NAMESPACE__.'\\___503871473')){function ___503871473($_1088652582){static $_1487135454= false; if($_1487135454 == false) $_1487135454=array('L2JpdHJpeC'.'9saWNlbn'.'NlX2tleS5waH'.'A=','','','REVNT'.'w==','REVNTw==','Qkl'.'U'.'Ukl'.'Y','TElD'.'RU'.'5DRQ==','REVN'.'T'.'w==','L2t'.'l'.'eV91cGR'.'hdGUucGhwP'.'2xpY'.'2Vuc'.'2Vfa2V'.'5PQ='.'=','JnRvYmFza2V0'.'P'.'X'.'kmbGFuZz0'.'=','cnU=',''.'a'.'3'.'o=','Ynk=','aHR0cHM6Ly9kZ'.'XYuMWMtYml'.'0'.'cml4L'.'nJ1L2xlYXJua'.'W5nL2NvdXJz'.'ZS9pbmRle'.'C5'.'waHA/Q09'.'V'.'UlNFX0l'.'EPTE'.'z'.'NSZM'.'RV'.'NT'.'T05fSUQ'.'9'.'Mj'.'U3'.'M'.'jA=',''.'aHR0c'.'HM6L'.'y90cmF'.'pbmluZy5i'.'a'.'XRyaXgyNC5j'.'b20vc3VwcG9yd'.'C90c'.'mFpbmluZy9jb3'.'Vyc2'.'UvaW5'.'k'.'ZXg'.'ucGh'.'wP0NPVV'.'JT'.'RV9JRD0xNzgmTEVTU09OX'.'0l'.'E'.'PT'.'I1OTM'.'yJkxF'.'U1N'.'PT'.'l9QQV'.'RIPTE3NTI'.'wL'.'j'.'E3NTYyLjI1OT'.'MwLj'.'I1OTMy','cnU=',''.'Y'.'nk=','a3o=','Z'.'GU=','Z'.'XU=','Zn'.'I=','cGw'.'=','a'.'XQ'.'=','dWs=','ZXU=','Y29t','ZW4=','REVNTw'.'==',''.'WQ='.'=','VElN'.'RUxJT'.'UlUX0VESVRJ'.'T04'.'=',''.'WQ'.'==','RU5DT'.'0R'.'F','WQ='.'=','U2l0Z'.'UV'.'4cGl'.'yZURhdGU=','bWFpbg'.'='.'=',''.'fnN1cHBv'.'cnRfZmluaXNoX2RhdGU=','WS1'.'tLW'.'Q=','W'.'S1tL'.'W'.'Q=',''.'Yml0'.'cml4M'.'jQ=',''.'bWF'.'pbg==','fl'.'BBUkFNX'.'0'.'NMSUVOV'.'F9MQ'.'U5H','aW50c'.'mF'.'uZX'.'Q=','ZW4=','cnU=','bWFpbg'.'==',''.'dmV'.'u'.'ZG9y','dWFfYml0cml'.'4X3'.'BvcnRhbA==','dW'.'E=','Y'.'ml'.'0cml'.'4X3'.'BvcnRhbA==','ZW4=',''.'MW'.'NfYml'.'0cml4X3BvcnRhbA==','c'.'nU'.'=','L2Jp'.'d'.'H'.'JpeC9tb2R'.'1b'.'G'.'VzL2'.'1haW4vbGF'.'u'.'Zy91YQ='.'=','d'.'WE=','L'.'2JpdH'.'Jpe'.'C9tb2R'.'1'.'bGVzL21haW4'.'vbGFu'.'Zy9ieQ'.'==','Yn'.'k=','L2Jp'.'dHJp'.'e'.'C9'.'tb2'.'R1bGVzL21haW4vbGFuZ'.'y9'.'r'.'eg==','a3o'.'=','L2JpdHJpeC'.'9tb2R'.'1bGV'.'z'.'L21'.'h'.'a'.'W4'.'vb'.'GFu'.'Zy'.'9ydQ'.'='.'=','cn'.'U=','bW'.'F'.'pb'.'g==','f'.'lB'.'BUkF'.'NX1BBUlROR'.'V'.'JfSUQ=','b'.'WFpbg='.'=','UE'.'F'.'S'.'QU1fT'.'UFYX1VT'.'RVJ'.'T',''.'b'.'WFpbg==','fk'.'NPVU5UX0'.'V'.'YVFJB','Tg==',''.'WQ'.'==','Z'.'Xh'.'0'.'cm'.'FuZXQ'.'=','QU5EIF'.'U'.'uTEFT'.'V'.'F9MT'.'0d'.'JTiA'.'+IA==',''.'QU5'.'EIFU'.'uTEF'.'TV'.'F9'.'MT0d'.'JTiB'.'JUyBOT1QgTlVMT'.'A'.'==','aW50cmFuZX'.'Q=','Z'.'Xh0cmF'.'uZX'.'Q=','ZXh0'.'cmFuZXRfZ3J'.'vdX'.'A=','bWFpbg==','fm'.'xpY'.'2'.'Vuc2Vf'.'bmFt'.'ZQ==','bWF'.'pbg==',''.'fmxpY'.'2'.'V'.'uc2VfY29'.'kZXM=','','LA==');return base64_decode($_1487135454[$_1088652582]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1747435988= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1747435988 === null){ $_153559205= Loader::getDocumentRoot(). ___503871473(0); $LICENSE_KEY= ___503871473(1); if($GLOBALS['____895908271'][0]($_153559205)){ include($_153559205);} $this->_1747435988=($LICENSE_KEY == ___503871473(2) || $GLOBALS['____895908271'][1]($LICENSE_KEY) == ___503871473(3)? ___503871473(4): $LICENSE_KEY);} return $this->_1747435988;} public function getHashLicenseKey(): string{ return $GLOBALS['____895908271'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____895908271'][3](___503871473(5). $this->getKey(). ___503871473(6));} public function isDemoKey(): bool{ return $this->getKey() == ___503871473(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___503871473(8). $this->getHashLicenseKey(). ___503871473(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_999557517= $this->getRegion(); if($GLOBALS['____895908271'][4]($_999557517,[___503871473(10), ___503871473(11), ___503871473(12)])){ return ___503871473(13);} return ___503871473(14);} public function getRenewalLink(): string{ $_999557517= $this->getRegion(); if($GLOBALS['____895908271'][5]($_999557517,[___503871473(15), ___503871473(16), ___503871473(17), ___503871473(18)])){ return self::URL_RENEWAL_LICENSE[$_999557517];} if($GLOBALS['____895908271'][6]($_999557517,[___503871473(19), ___503871473(20), ___503871473(21), ___503871473(22), ___503871473(23)])){ return self::URL_RENEWAL_LICENSE[___503871473(24)];} return self::URL_RENEWAL_LICENSE[___503871473(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___503871473(26)];} public function isDemo(): bool{ return $GLOBALS['____895908271'][7](___503871473(27)) && DEMO === ___503871473(28);} public function isTimeBound(): bool{ return $GLOBALS['____895908271'][8](___503871473(29)) && TIMELIMIT_EDITION === ___503871473(30);} public function isEncoded(): bool{ return $GLOBALS['____895908271'][9](___503871473(31)) && ENCODE === ___503871473(32);} public function getExpireDate():?Date{ $_1230118597= (int)($GLOBALS[___503871473(33)] ??(192*2-384)); if($_1230118597>(132*2-264)){ return Date::createFromTimestamp($_1230118597);} return null;} public function getSupportExpireDate():?Date{ $_1230118597= Option::get(___503871473(34), ___503871473(35)); if(Date::isCorrect($_1230118597, ___503871473(36))){ return new Date($_1230118597, ___503871473(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___503871473(38))){ return \CBitrix24::getPortalZone();} $_999557517= Option::get(___503871473(39), ___503871473(40)); if(!empty($_999557517)){ return $_999557517;} $_999557517= $this->__751336160(); if(!empty($_999557517)){ return $_999557517;} return $this->__356549978();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___503871473(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___503871473(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___503871473(43)];} private function __751336160():?string{ $_300814173= Option::get(___503871473(44), ___503871473(45)); if($_300814173 === ___503871473(46)){ return ___503871473(47);} if($_300814173 === ___503871473(48)){ return ___503871473(49);} if($_300814173 === ___503871473(50)){ return ___503871473(51);} return null;} private function __356549978():?string{ $_1131747201= Application::getDocumentRoot(); if($GLOBALS['____895908271'][10]($_1131747201. ___503871473(52))){ return ___503871473(53);} if($GLOBALS['____895908271'][11]($_1131747201. ___503871473(54))){ return ___503871473(55);} if($GLOBALS['____895908271'][12]($_1131747201. ___503871473(56))){ return ___503871473(57);} if($GLOBALS['____895908271'][13]($_1131747201. ___503871473(58))){ return ___503871473(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___503871473(60), ___503871473(61),(137*2-274));} public function getMaxUsers(): int{ return (int)Option::get(___503871473(62), ___503871473(63),(203*2-406));} public function isExtraCountable(): bool{ return Option::get(___503871473(64), ___503871473(65), ___503871473(66)) === ___503871473(67) && ModuleManager::isModuleInstalled(___503871473(68));} public function getActiveUsersCount(Date $_1005155854= null): int{ $_1408077367= Application::getConnection(); $_276257991= min(114,0,38); if($_1005155854 !== null){  $_2083364602= ___503871473(69).$_1408077367->getSqlHelper()->convertToDbDate($_1005155854);} else{  $_2083364602= ___503871473(70);} if(ModuleManager::isModuleInstalled(___503871473(71))){ $_1871801949="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_2083364602}
			"; $_276257991= (int)$_1408077367->queryScalar($_1871801949); $_193389825= (int)Option::get(___503871473(72), ___503871473(73)); if($_193389825>(956-2*478) && $this->isExtraCountable()){ $_1871801949="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_193389825}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_2083364602}
							AND D.VALUE_ID IS NULL
					"; $_276257991 += (int)$_1408077367->queryScalar($_1871801949);}} return $_276257991;}  public function getName(): string{ return Option::get(___503871473(74), ___503871473(75));}  public function getCodes(): array{ $_76624815= Option::get(___503871473(76), ___503871473(77)); if($_76624815 != ___503871473(78)){ return $GLOBALS['____895908271'][14](___503871473(79), $_76624815);} return[];}}?>