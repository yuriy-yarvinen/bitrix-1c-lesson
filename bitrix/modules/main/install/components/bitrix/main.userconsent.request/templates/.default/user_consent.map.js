{"version":3,"file":"user_consent.map.js","names":["UserConsentControl","params","this","caller","formNode","controlNode","inputNode","config","saved","prototype","BX","UserConsent","msg","title","btnAccept","btnReject","loading","errTextLoad","events","save","refused","accepted","afterAccepted","current","autoSave","isFormSubmitted","attributeControl","items","load","context","item","find","bind","loadAll","limit","length","forEach","concat","getItems","loadFromForms","formNodes","document","getElementsByTagName","convert","nodeListToArray","controlNodes","querySelectorAll","map","createItem","filter","submitEventName","addCustomEvent","onSubmit","onClick","querySelector","JSON","parse","getAttribute","parameters","tagName","findParent","e","url","checked","onCustomEvent","requestForItem","preventDefault","check","saveConsent","setCurrent","requestConsent","id","sec","replace","onAccepted","onRefused","actionRequestUrl","actionUrl","submit","initPopup","popup","isInit","nodes","container","shadow","head","loader","content","textarea","buttonAccept","buttonReject","onAccept","hide","onReject","init","tmplNode","createElement","innerHTML","children","body","insertBefore","link","linkA","textContent","message","setTitle","text","setContent","style","display","setUrl","href","show","isContentVisible","cache","list","stringifyKey","key","type","isString","stringify","set","data","get","push","getData","filtered","has","sendData","cacheHash","setTextToPopup","ajax","runAction","then","response","html","catch","alert","titleBar","textTitlePos","indexOf","textTitleDotPos","substr","trim","split","Function","call","String","callback","window","location","originId","inputs","input","name","value","originatorId","apply","sendActionRequest","action","callbackSuccess","callbackFailure","sessid","bitrix_sessid","method","timeout","dataType","processData","onsuccess","proxy","error","onfailure","ready"],"sources":["user_consent.js"],"mappings":"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","ignoreList":[]}