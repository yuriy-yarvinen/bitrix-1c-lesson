{"version":3,"file":"total.bundle.js","sources":["../src/basket.js","../src/discount.js","../src/summary.js","../src/total.js"],"sourcesContent":["import { BitrixVue } from 'ui.vue';\r\nimport {CurrencyCore} from 'currency.currency-core';\r\n\r\nBitrixVue.component('sale-checkout-view-total-basket', {\r\n    props: ['total'],\r\n    computed:\r\n    {\r\n        localize()\r\n        {\r\n            return Object.freeze(\r\n                BitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_'))\r\n        },\r\n        basePriceFormatted()\r\n        {\r\n            return CurrencyCore.currencyFormat(this.total.basePrice, this.total.currency, true);\r\n        }\r\n    },\r\n    // language=Vue\r\n    template: `\r\n      <tr class=\"checkout-basket-total-item checkout-basket-total-item-subtotal\">\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-summary\">\r\n            <span>{{localize.CHECKOUT_VIEW_TOTAL_TOTAL_ITEMS}}</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-price-block\">\r\n            <span class=\"checkout-basket-total-item-price\" v-html=\"basePriceFormatted\"/>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    `\r\n});","import { BitrixVue } from 'ui.vue';\r\nimport {CurrencyCore} from 'currency.currency-core';\r\n\r\nBitrixVue.component('sale-checkout-view-total-discount', {\r\n    props: ['total'],\r\n    computed:\r\n    {\r\n        localize()\r\n        {\r\n            return Object.freeze(\r\n                BitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_'))\r\n        },\r\n        discountSumFormatted()\r\n        {\r\n            return CurrencyCore.currencyFormat(this.total.discount.sum, this.total.currency, true);\r\n        }\r\n    },\r\n    // language=Vue\r\n    template: `\r\n      <tr class=\"checkout-basket-total-item checkout-basket-total-item-discount\">\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-summary\">\r\n            <span>{{localize.CHECKOUT_VIEW_TOTAL_TOTAL_PROFIT}}</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div class=\"checkout-basket-total-price-block\">\r\n            <span class=\"checkout-basket-total-item-price-discount\" v-html=\"'-' + discountSumFormatted\"/>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    `\r\n});","import { BitrixVue } from 'ui.vue';\r\nimport {CurrencyCore} from 'currency.currency-core';\r\n\r\nBitrixVue.component('sale-checkout-view-total-summary', {\r\n    props: ['total'],\r\n    computed:\r\n    {\r\n        localize()\r\n        {\r\n            return Object.freeze(\r\n                BitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_'))\r\n        },\r\n        priceFormatted()\r\n        {\r\n            return CurrencyCore.currencyFormat(this.total.price, this.total.currency, true);\r\n        }\r\n    },\r\n    // language=Vue\r\n    template: `\r\n       <tr class=\"checkout-basket-total-item checkout-basket-total-item-total\">\r\n        <td>\r\n          <div class=\"checkout-basket-total-item-summary\">\r\n            <span>{{localize.CHECKOUT_VIEW_TOTAL_TOTAL_SUMMARY}}</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <div class=\"checkout-basket-total-price-block\">\r\n            <span class=\"checkout-basket-total-item-price\" v-html=\"priceFormatted\"/>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    `\r\n});","import { BitrixVue } from 'ui.vue';\nimport { EventType } from 'sale.checkout.const';\nimport { EventEmitter } from \"main.core.events\";\n\nimport './basket'\nimport './discount'\nimport './summary'\n\nBitrixVue.component('sale-checkout-view-total', {\n\tprops: ['total', 'showBackdrop'],\n\tcomputed:\n\t{\n\t\tlocalize()\n\t\t{\n\t\t\treturn Object.freeze(\n\t\t\t\tBitrixVue.getFilteredPhrases('CHECKOUT_VIEW_TOTAL_CLOSE'))\n\t\t},\n\t\thasDiscount()\n\t\t{\n\t\t\treturn this.total.discount.sum !== 0;\n\t\t},\n\t\tgetObjectClass()\n\t\t{\n\t\t\tconst classes = [\n\t\t\t\t'checkout-basket-total-container'\n\t\t\t];\n\t\t\t\n\t\t\tif(this.isBackdrop)\n\t\t\t{\n\t\t\t\tclasses.push('active');\n\t\t\t}\n\t\t\t\n\t\t\treturn classes;\n\t\t},\n\t\tisBackdrop()\n\t\t{\n\t\t\treturn this.showBackdrop === 'Y';\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tbackdropTotalClose()\n\t\t{\n\t\t\tEventEmitter.emit(EventType.basket.backdropTotalClose)\n\t\t}\n\t},\n\t// language=Vue\n\ttemplate: `\n      <div :class=\"getObjectClass\">\n\t\t  <div class=\"checkout-basket-total-overlay\" @click=\"backdropTotalClose\"></div>\n          <div class=\"checkout-basket-total-backdrop-container\">\n            <div class=\"checkout-basket-total-backdrop-header justify-content-between align-items-center checkout-basket-mobile-only\">\n              <div class=\"checkout-basket-total-backdrop-header-separate\"></div>\n              <div class=\"checkout-basket-total-backdrop-swipe-btn-container\">\n                <div class=\"checkout-basket-total-backdrop-swipe-btn\"></div>\n              </div>\n              <div class=\"checkout-basket-total-backdrop-close-btn-container\" @click=\"backdropTotalClose\">\n\t\t\t\t<span class=\"checkout-basket-total-backdrop-close-btn\">\n\t\t\t\t\t<span class=\"checkout-basket-total-backdrop-close-btn-text\" >{{localize.CHECKOUT_VIEW_TOTAL_CLOSE}}</span>\n\t\t\t\t</span>\n              </div>\n            </div>\n\t\t\t  <div class=\"checkout-basket-total-inner\">\n\t\t\t\t\t<table class=\"checkout-basket-total-list\">\n\t\t\t\t\t\t<sale-checkout-view-total-basket :total=\"total\"/>\n\t\t\t\t\t\t<sale-checkout-view-total-discount :total=\"total\" v-if=\"hasDiscount\"/>\n\t\t\t\t\t\t<sale-checkout-view-total-summary :total=\"total\"/>\n\t\t\t\t\t</table>\n\t\t\t  </div>\n\t\t  </div>\n      </div>\n\t`\n});"],"names":["BitrixVue","component","props","computed","localize","Object","freeze","getFilteredPhrases","basePriceFormatted","CurrencyCore","currencyFormat","total","basePrice","currency","template","discountSumFormatted","discount","sum","priceFormatted","price","hasDiscount","getObjectClass","classes","isBackdrop","push","showBackdrop","methods","backdropTotalClose","EventEmitter","emit","EventType","basket"],"mappings":";;;;;;;AAGAA,oBAAS,CAACC,SAAS,CAAC,iCAAiC,EAAE;MACnDC,KAAK,EAAE,CAAC,OAAO,CAAC;MAChBC,QAAQ,EACR;QACIC,QAAQ,sBACR;UACI,OAAOC,MAAM,CAACC,MAAM,CAChBN,gBAAS,CAACO,kBAAkB,CAAC,sBAAsB,CAAC,CAAC;SAC5D;QACDC,kBAAkB,gCAClB;UACI,OAAOC,kCAAY,CAACC,cAAc,CAAC,IAAI,CAACC,KAAK,CAACC,SAAS,EAAE,IAAI,CAACD,KAAK,CAACE,QAAQ,EAAE,IAAI,CAAC;;OAE1F;;MAEDC,QAAQ;IAcZ,CAAC,CAAC;;AC7BFd,oBAAS,CAACC,SAAS,CAAC,mCAAmC,EAAE;MACrDC,KAAK,EAAE,CAAC,OAAO,CAAC;MAChBC,QAAQ,EACR;QACIC,QAAQ,sBACR;UACI,OAAOC,MAAM,CAACC,MAAM,CAChBN,gBAAS,CAACO,kBAAkB,CAAC,sBAAsB,CAAC,CAAC;SAC5D;QACDQ,oBAAoB,kCACpB;UACI,OAAON,kCAAY,CAACC,cAAc,CAAC,IAAI,CAACC,KAAK,CAACK,QAAQ,CAACC,GAAG,EAAE,IAAI,CAACN,KAAK,CAACE,QAAQ,EAAE,IAAI,CAAC;;OAE7F;;MAEDC,QAAQ;IAcZ,CAAC,CAAC;;AC7BFd,oBAAS,CAACC,SAAS,CAAC,kCAAkC,EAAE;MACpDC,KAAK,EAAE,CAAC,OAAO,CAAC;MAChBC,QAAQ,EACR;QACIC,QAAQ,sBACR;UACI,OAAOC,MAAM,CAACC,MAAM,CAChBN,gBAAS,CAACO,kBAAkB,CAAC,sBAAsB,CAAC,CAAC;SAC5D;QACDW,cAAc,4BACd;UACI,OAAOT,kCAAY,CAACC,cAAc,CAAC,IAAI,CAACC,KAAK,CAACQ,KAAK,EAAE,IAAI,CAACR,KAAK,CAACE,QAAQ,EAAE,IAAI,CAAC;;OAEtF;;MAEDC,QAAQ;IAcZ,CAAC,CAAC;;ACxBFd,oBAAS,CAACC,SAAS,CAAC,0BAA0B,EAAE;MAC/CC,KAAK,EAAE,CAAC,OAAO,EAAE,cAAc,CAAC;MAChCC,QAAQ,EACR;QACCC,QAAQ,sBACR;UACC,OAAOC,MAAM,CAACC,MAAM,CACnBN,gBAAS,CAACO,kBAAkB,CAAC,2BAA2B,CAAC,CAAC;SAC3D;QACDa,WAAW,yBACX;UACC,OAAO,IAAI,CAACT,KAAK,CAACK,QAAQ,CAACC,GAAG,KAAK,CAAC;SACpC;QACDI,cAAc,4BACd;UACC,IAAMC,OAAO,GAAG,CACf,iCAAiC,CACjC;UAED,IAAG,IAAI,CAACC,UAAU,EAClB;YACCD,OAAO,CAACE,IAAI,CAAC,QAAQ,CAAC;;UAGvB,OAAOF,OAAO;SACd;QACDC,UAAU,wBACV;UACC,OAAO,IAAI,CAACE,YAAY,KAAK,GAAG;;OAEjC;MACDC,OAAO,EACP;QACCC,kBAAkB,gCAClB;UACCC,6BAAY,CAACC,IAAI,CAACC,6BAAS,CAACC,MAAM,CAACJ,kBAAkB,CAAC;;OAEvD;;MAEDb,QAAQ;IAyBT,CAAC,CAAC;;;;"}