this.BX=this.BX||{};(function(t,e,s,i,a,l,n,o,r,p,c,u,d,h,m,b){"use strict";const g={beforeMount(t,e){m.Event.bind(t,"click",(t=>{t.preventDefault();BX.UI.Feedback.Form.open(e.value)}))}};const v={emits:["selected","unselected"],name:"ui-entity-catalog-group",components:{Counter:n.Counter},props:{groupData:{type:u.GroupData,required:true}},computed:{hasIcon(){return m.Type.isStringFilled(this.groupData.icon)},getCounterStyle(){return l.CounterStyle.FILLED_SUCCESS},getCounterValue(){var t,e;const s=(t=(e=this.groupData)==null?void 0:e.customData)!=null?t:{};const i=s.counterValue;const a=Number.isInteger(i);return a&&i>0?i:null}},methods:{handleClick(){if(this.groupData.deselectable){this.$emit(!this.groupData.selected?"selected":"unselected",this.groupData)}else if(!this.groupData.selected){this.$emit("selected",this.groupData)}}},template:`\n\t\t<slot name="group" v-bind:groupData="groupData" v-bind:handleClick="handleClick">\n\t\t\t<li\n\t\t\t\t:class="{\n\t\t\t\t\t'ui-entity-catalog__menu_item': true,\n\t\t\t\t\t'--active': groupData.selected,\n\t\t\t\t\t'--disabled': groupData.disabled,\n\t\t\t\t}"\n\t\t\t\t@click="handleClick"\n\t\t\t>\n\t\t\t\t<span class="ui-entity-catalog__menu_item-icon" v-if="hasIcon" v-html="groupData.icon"/>\n\t\t\t\t<span class="ui-entity-catalog__menu_item-text">{{ groupData.name }}</span>\n\t\t\t\t<span\n\t\t\t\t\tv-if="getCounterValue !== null"\n\t\t\t\t\tclass="ui-entity-catalog__menu_item-entity-count"\n\t\t\t\t>\n\t\t\t\t\t<Counter\n\t\t\t\t\t\t:value="getCounterValue"\n\t\t\t\t\t\t:style="getCounterStyle"\n\t\t\t\t\t>\n\t\t\t\t\t</Counter>\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t</slot>\n\t`};const f={emits:["groupSelected","groupUnselected"],name:"ui-entity-selector-group-list",components:{Group:v},props:{groups:{type:Array,required:true}},computed:{groupLists(){if(!this.groups||this.groups.length===0){return[]}if(Array.isArray(this.groups[0])){return this.groups}return[this.groups]},headerLists(){return this.groupLists.map((t=>t.filter((t=>!!t.isHeaderGroup)))).filter((t=>t.length>0))},mainLists(){return this.groupLists.map((t=>t.filter((t=>!t.isHeaderGroup)))).filter((t=>t.length>0))}},methods:{handleGroupSelected(t){this.$emit("groupSelected",t)},handleGroupUnselected(t){this.$emit("groupUnselected",t)}},template:`\n\t\t<div>\n\t\t\t<div\n\t\t\t\tclass="ui-entity-catalog__header-groups-content"\n\t\t\t\tv-if="headerLists && headerLists.length"\n\t\t\t>\n\t\t\t\t<ul\n\t\t\t\t\tclass="ui-entity-catalog__menu"\n\t\t\t\t\tv-for="(groupList, listIndex) in headerLists"\n\t\t\t\t\t:key="'header-'+listIndex"\n\t\t\t\t>\n\t\t\t\t\t<Group\n\t\t\t\t\t\t:group-data="group"\n\t\t\t\t\t\t:key="group.id"\n\t\t\t\t\t\tv-for="group in groupList"\n\t\t\t\t\t\t@selected="handleGroupSelected"\n\t\t\t\t\t\t@unselected="handleGroupUnselected"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #group="groupSlotProps">\n\t\t\t\t\t\t\t<slot\n\t\t\t\t\t\t\t\tname="group"\n\t\t\t\t\t\t\t\tv-bind:groupData="groupSlotProps.groupData"\n\t\t\t\t\t\t\t\tv-bind:handleClick="groupSlotProps.handleClick"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Group>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<ul\n\t\t\t\t\tclass="ui-entity-catalog__menu"\n\t\t\t\t\tv-for="(groupList, listIndex) in mainLists"\n\t\t\t\t\t:key="'main-'+listIndex"\n\t\t\t\t>\n\t\t\t\t\t<Group\n\t\t\t\t\t\t:group-data="group"\n\t\t\t\t\t\t:key="group.id"\n\t\t\t\t\t\tv-for="group in groupList"\n\t\t\t\t\t\t@selected="handleGroupSelected"\n\t\t\t\t\t\t@unselected="handleGroupUnselected"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #group="groupSlotProps">\n\t\t\t\t\t\t\t<slot\n\t\t\t\t\t\t\t\tname="group"\n\t\t\t\t\t\t\t\tv-bind:groupData="groupSlotProps.groupData"\n\t\t\t\t\t\t\t\tv-bind:handleClick="groupSlotProps.handleClick"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Group>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t`};const _={emits:["groupSelected"],name:"ui-entity-catalog-main-groups",components:{GroupList:f},props:{groups:{type:Array,required:true},searching:{type:Boolean,default:false},selectedGroup:{type:Object,default:null}},computed:{processedGroups(){const t=this.searching?null:this.selectedGroup?this.selectedGroup.id:null;const e=BX.Runtime.clone(this.groups);e.forEach((e=>{e.forEach((e=>{e.selected=e.id===t}))}));return e},headerLists(){return this.processedGroups.map((t=>t.filter((t=>t.isHeaderGroup)))).filter((t=>t.length>0))},mainLists(){return this.processedGroups.map((t=>t.filter((t=>!t.isHeaderGroup)))).filter((t=>t.length>0))}},methods:{handleGroupSelected(t){this.$emit("groupSelected",t)},handleGroupUnselected(){this.$emit("groupSelected",null)}},template:`\n\t\t<div class="ui-entity-catalog__main-groups">\n\t\t\t<div class="ui-entity-catalog__main-groups-head">\n\t\t\t\t<slot name="group-list-header"/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass="ui-entity-catalog__header-groups-content"\n\t\t\t\tv-if="headerLists && headerLists.length"\n\t\t\t>\n\t\t\t\t<GroupList\n\t\t\t\t\t:groups="headerLists"\n\t\t\t\t\t@groupSelected="handleGroupSelected"\n\t\t\t\t\t@groupUnselected="handleGroupUnselected"\n\t\t\t\t>\n\t\t\t\t\t<template #group="groupSlotProps">\n\t\t\t\t\t\t<slot\n\t\t\t\t\t\t\tname="group"\n\t\t\t\t\t\t\tv-bind:groupData="groupSlotProps.groupData"\n\t\t\t\t\t\t\tv-bind:handleClick="groupSlotProps.handleClick"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</template>\n\t\t\t\t</GroupList>\n\t\t\t</div>\n\t\t\t<div class="ui-entity-catalog__main-groups-content">\n\t\t\t\t<GroupList\n\t\t\t\t\t:groups="mainLists"\n\t\t\t\t\t@groupSelected="handleGroupSelected"\n\t\t\t\t\t@groupUnselected="handleGroupUnselected"\n\t\t\t\t>\n\t\t\t\t\t<template #group="groupSlotProps">\n\t\t\t\t\t\t<slot\n\t\t\t\t\t\t\tname="group"\n\t\t\t\t\t\t\tv-bind:groupData="groupSlotProps.groupData"\n\t\t\t\t\t\t\tv-bind:handleClick="groupSlotProps.handleClick"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</template>\n\t\t\t\t</GroupList>\n\t\t\t</div>\n\t\t\t<div class="ui-entity-catalog__main-groups-footer">\n\t\t\t\t<slot name="group-list-footer"/>\n\t\t\t</div>\n\t\t</div>\n\t`};const y={name:"ui-entity-catalog-item-list-advice",props:{groupData:{type:u.GroupData,required:true}},computed:{getAvatar:function(){return m.Type.isStringFilled(this.groupData.adviceAvatar)?this.groupData.adviceAvatar:"/bitrix/js/ui/entity-catalog/images/ui-entity-catalog--nata.jpg"}},methods:{renderAdvice(){m.Dom.clean(this.$refs.container);const t=new o.Advice({content:this.groupData.adviceTitle,avatarImg:this.getAvatar,anglePosition:o.Advice.AnglePosition.BOTTOM});t.renderTo(this.$refs.container)}},mounted(){this.renderAdvice()},updated(){this.renderAdvice()},template:`\n\t\t<div ref="container"></div>\n\t`};const S={name:"ui-entity-catalog-button",props:{buttonData:{type:p.ButtonData,required:true},eventData:{type:Object,required:true}},computed:{buttonText(){return m.Type.isStringFilled(this.buttonData.text)?this.buttonData.text:m.Loc.getMessage("UI_JS_ENTITY_CATALOG_ITEM_DEFAULT_BUTTON_TEXT")}},methods:{handleButtonClick(t){const e=new h.BaseEvent({data:{eventData:this.eventData,originalEvent:t}});if(m.Type.isFunction(this.buttonData.action)){this.buttonData.action.call(this,e)}}},template:`\n\t\t<div class="ui-entity-catalog__option-btn-block">\n\t\t\t<div \n\t\t\t\tclass="ui-entity-catalog__btn"\n\t\t\t\t:class="{'--lock': buttonData.locked}"\n\t\t\t\t@click="handleButtonClick"\n\t\t\t>{{buttonText}}</div>\n\t\t</div>\n\t`};const L={name:"ui-entity-catalog-item",components:{Button:S},props:{itemData:{type:r.ItemData,required:true}},computed:{buttonData(){if(!m.Type.isPlainObject(this.itemData.button)){this.itemData.button={}}return this.itemData.button},topText(){var t,e;const s=(t=(e=this.itemData)==null?void 0:e.customData)!=null?t:{};if(m.Type.isStringFilled(s.topText)){return s.topText}return null}},template:`\n\t\t<slot name="item" v-bind:itemData="itemData">\n\t\t\t<div \n\t\t\t\tclass="ui-entity-catalog__option"\n\t\t\t\t:data-item-id="String(itemData.id)"\n\t\t\t>\n\t\t\t\t<div class="ui-entity-catalog__option-info">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if="topText"\n\t\t\t\t\t\tclass="ui-entity-catalog__option-info_top_text"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ topText }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ui-entity-catalog__option-info_name">\n\t\t\t\t\t\t<span>{{itemData.title}}</span>\n\t\t\t\t\t\t<span class="ui-entity-catalog__option-info_label" v-if="itemData.subtitle">{{itemData.subtitle}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ui-entity-catalog__option-info_description">\n\t\t\t\t\t\t{{itemData.description}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Button :buttonData="buttonData" :event-data="itemData"/>\n\t\t\t</div>\n\t\t</slot>\n\t`};const P={name:"ui-entity-selector-item-list",components:{Item:L},props:{items:{Type:Array,required:true}},template:`\n\t\t<div class="ui-entity-catalog__content">\n\t\t\t<div class="ui-entity-catalog__options">\n\t\t\t\t<Item \n\t\t\t\t\t:item-data="item"\n\t\t\t\t\t:key="item.id"\n\t\t\t\t\tv-for="item in items"\n\t\t\t\t>\n\t\t\t\t\t<template #item="itemSlotProps">\n\t\t\t\t\t\t<slot name="item" v-bind:itemData="itemSlotProps.itemData"/>\n\t\t\t\t\t</template>\n\t\t\t\t</Item>\n\t\t\t</div>\n\t\t</div>\n\t`};const T={template:`\n\t\t<div class="ui-entity-catalog__content --help-block">\n\t\t\t<div class="ui-entity-catalog__empty-content">\n\t\t\t\t<div class="ui-entity-catalog__empty-content_icon">\n\t\t\t\t\t<img src="/bitrix/js/ui/entity-catalog/images/ui-entity-catalog--search-icon.svg" alt="Choose a grouping">\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-entity-catalog__empty-content_text">\n\t\t\t\t\t<slot/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t`};const F=c.defineStore("global-state",{state:()=>({searchQuery:"",searchApplied:false,filtersApplied:false,currentGroup:u.GroupData,shouldShowWelcomeStub:true})});const B={name:"ui-entity-catalog-main-content",components:{ItemListAdvice:y,ItemList:P,EmptyContent:T},props:{items:{type:Array,required:true},itemsToShow:{type:Array},group:{type:u.GroupData,required:true},searching:{type:Boolean,default:false}},computed:{...c.mapState(F,["filtersApplied","shouldShowWelcomeStub"]),showAdvice(){return this.group&&m.Type.isStringFilled(this.group.adviceTitle)&&!this.searching},hasItems(){return this.group&&this.items.length>0},showWelcomeStub(){return this.showNoSelectedGroupStub&&this.shouldShowWelcomeStub},showNoSelectedGroupStub(){return!this.group&&!this.searching},showFiltersStub(){const t=!!this.$slots["main-content-filter-stub-title"];return t&&this.hasItems&&this.filtersApplied&&this.itemsToShow.length<=0},showSearchStub(){return(!this.group||this.hasItems)&&this.searching&&this.itemsToShow.length<=0},showEmptyGroupStub(){return this.group&&this.itemsToShow.length===0},showSeparator(){return this.showAdvice&&this.items.length<=0}},beforeUpdate(){this.$refs.content.scrollTop=0},template:`\n\t\t<div class="ui-entity-catalog__main-content">\n\t\t\t<div class="ui-entity-catalog__main-content-head">\n\t\t\t\t<slot name="main-content-header"/>\n\t\t\t</div>\n\t\t\t<ItemListAdvice v-if="showAdvice" :groupData="group" />\n\n\t\t\t<hr class="ui-entity-catalog__main-separator" v-if="showSeparator">\n\n\t\t\t<div class="ui-entity-catalog__main-content-body" ref="content">\n\t\t\t\t<slot name="main-content-welcome-stub" v-if="showWelcomeStub"/>\n\t\t\t\t<slot name="main-content-no-selected-group-stub" v-else-if="showNoSelectedGroupStub"/>\n\t\t\t\t<slot name="main-content-filter-stub" v-if="showFiltersStub">\n\t\t\t\t\t<EmptyContent>\n\t\t\t\t\t\t<slot name="main-content-filter-stub-title"/>\n\t\t\t\t\t</EmptyContent>\n\t\t\t\t</slot>\n\t\t\t\t<slot name="main-content-search-stub" v-else-if="showSearchStub">\n\t\t\t\t\t<EmptyContent>\n\t\t\t\t\t\t<slot name="main-content-search-not-found-stub"/>\n\t\t\t\t\t</EmptyContent>\n\t\t\t\t</slot>\n\t\t\t\t<slot name="main-content-empty-group-stub" v-else-if="showEmptyGroupStub">\n\t\t\t\t\t<EmptyContent>\n\t\t\t\t\t\t<slot name="main-content-empty-group-stub-title"/>\n\t\t\t\t\t</EmptyContent> \n\t\t\t\t</slot>\n\t\t\t\t<ItemList v-else :items="itemsToShow">\n\t\t\t\t\t<template #item="itemSlotProps">\n\t\t\t\t\t\t<slot name="item" v-bind:itemData="itemSlotProps.itemData"/>\n\t\t\t\t\t</template>\n\t\t\t\t</ItemList>\n\t\t\t\t<div class="ui-entity-catalog__main-content-footer">\n\t\t\t\t\t<slot name="main-content-footer"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`};let H=t=>t,O,I;const E={emits:["onApplyFilters"],name:"ui-entity-catalog-titlebar-filter",props:{filters:{type:Array,required:true},multiple:{type:Boolean,default:false}},data(){return{appliedFilters:this.getAppliedFilters(),allFilters:this.filters}},methods:{showMenu(){d.MenuManager.create({id:"ui-entity-catalog-titlebar-filter-menu",bindElement:this.$el,minWidth:271,autoHide:true,contentColor:"white",draggable:false,cacheable:false,items:this.getItems()}).show()},getItems(){const t=[];for(const e in this.allFilters){const s=m.Tag.render(O||(O=H`
					<div style="display: flex">
						<div>${0}</div>
					</div>
				`),m.Text.encode(this.filters[e].text));if(this.allFilters[e].applied){m.Dom.append(m.Tag.render(I||(I=H`<div class="ui-entity-catalog__filter-block_selected"></div>`)),s)}t.push({html:s,onclick:(t,s)=>{if(this.allFilters[e].applied){delete this.appliedFilters[this.allFilters[e].id]}else{if(!this.multiple){this.clearAllAction()}this.appliedFilters[this.allFilters[e].id]=this.allFilters[e]}this.allFilters[e].applied=!this.allFilters[e].applied;this.$emit("onApplyFilters",new h.BaseEvent({data:this.appliedFilters}));s.getMenuWindow().close()}})}t.push({delimiter:true});t.push(this.getClearAllFilter());return t},getClearAllFilter(){return{html:`\n\t\t\t\t\t<div style="display: flex">\n\t\t\t\t\t\t<div>${m.Loc.getMessage("UI_JS_ENTITY_CATALOG_RESET_FILTER")}</div>\n\t\t\t\t\t</div>\n\t\t\t\t`,onclick:(t,e)=>{this.clearAllAction();this.$emit("onApplyFilters",new h.BaseEvent({data:this.appliedFilters}));e.getMenuWindow().close()}}},clearAllAction(){this.appliedFilters={};this.allFilters=this.allFilters.map((t=>({...t,applied:false})))},getAppliedFilters(){const t={};for(const e in this.filters){if(this.filters[e].applied){t[this.filters[e].id]=this.filters[e]}}if(Object.keys(t).length>0){this.$emit("onApplyFilters",new h.BaseEvent({data:t}))}return t}},template:`\n\t\t<div \n\t\t\t:class="{\n\t\t\t\t'ui-entity-catalog__titlebar_btn-filter': true,\n\t\t\t\t'--active': Object.keys(appliedFilters).length > 0\n\t\t\t}"\n\t\t\t@click="showMenu">\n\t\t</div>\n\t`};const G={emits:["onSearch"],name:"ui-entity-catalog-titlebar-search",data(){return{opened:false,debounceSearchHandler:null,queryString:"",showClearSearch:false}},watch:{queryString(t){this.showClearSearch=this.opened&&this.$refs["search-input"]&&m.Type.isStringFilled(t)}},created(){this.debounceSearchHandler=m.debounce((t=>{this.onSearch(t.target.value)}),255)},methods:{openSearch(){this.opened=true;this.$nextTick((()=>{this.$refs["search-input"].focus()}))},onSearch(t){this.queryString=t;this.$emit("onSearch",new h.BaseEvent({data:{queryString:t?t.toString():""}}))},clearSearch(){if(this.showClearSearch){this.$refs["search-input"].value="";this.onSearch("")}}},template:`\n\t\t<div class="ui-ctl ui-ctl-after-icon ui-ctl-w100 ui-ctl-round" @click.once="openSearch">\n\t\t\t<a \n\t\t\t\t:class="{\n\t\t\t\t\t'ui-ctl-after': true,\n\t\t\t\t\t'ui-ctl-icon-search': !showClearSearch,\n\t\t\t\t\t'ui-ctl-icon-clear': showClearSearch\n\t\t\t\t}"\n\t\t\t\t@click="clearSearch"\n\t\t\t/>\n\t\t\t<input\n\t\t\t\ttype="text"\n\t\t\t\tclass="ui-ctl-element ui-ctl-textbox"\n\t\t\t\tplaceholder="${m.Loc.getMessage("UI_JS_ENTITY_CATALOG_GROUP_LIST_SEARCH_PLACEHOLDER")}"\n\t\t\t\tref="search-input"\n\t\t\t\tv-if="opened"\n\t\t\t\t@input="debounceSearchHandler"\n\t\t\t/>\n\t\t</div>\n\t`};const w={name:"ui-entity-catalog-application",components:{MainGroups:_,MainContent:B,TitleBarFilter:E,Search:G},props:{groups:{type:Array,required:true},items:{type:Array,required:true},showEmptyGroups:{type:Boolean,default:false},filterOptions:{type:Object,default:{filterItems:[],multiple:false}}},data(){var t,e;let s=null;for(const t of this.groups){s=t.find((t=>t.selected));if(s){break}}return{selectedGroup:s,selectedGroupId:(t=(e=s)==null?void 0:e.id)!=null?t:null,shownItems:[],shownGroups:[],lastSearchString:"",filters:[]}},computed:{itemsBySelectedGroupId(){var t;const e=this.items.filter((t=>t.groupIds.some((t=>t===this.selectedGroupId))));return(t=this.selectedGroup)!=null&&t.compare?e.sort(this.selectedGroup.compare):e},computedShownGroups(){if(this.showEmptyGroups){return m.Runtime.clone(this.groups)}const t=new Set;this.items.forEach((e=>{e.groupIds.forEach((e=>t.add(e)))}));return this.groups.map((e=>e.filter((e=>e.isHeaderGroup===true||t.has(e.id))))).filter((t=>t.length>0))},computedShownItems(){if(this.searching&&m.Type.isStringFilled(this.lastSearchString)){const t=this.lastSearchString;let e=this.items.filter((e=>{var s;return String(e.title).toLowerCase().includes(t)||String(e.description).toLowerCase().includes(t)||((s=e.tags)==null?void 0:s.some((e=>e===t)))}));for(const t in this.filters){e=e.filter(this.filters[t].action)}return e}let t=this.itemsBySelectedGroupId.slice();for(const e in this.filters){t=t.filter(this.filters[e].action)}return t},...c.mapWritableState(F,{searchQuery:"searchQuery",searching:"searchApplied",filtersApplied:"filtersApplied",globalGroup:"currentGroup",shouldShowWelcomeStub:"shouldShowWelcomeStub"})},watch:{computedShownItems:{handler(){this.$nextTick((()=>{this.$emit("itemsRendered")}))},flush:"post"},computedShownGroups:{immediate:true,handler(t){this.shownGroups.splice(0,this.shownGroups.length,...t);if(!this.selectedGroupId){const t=this.shownGroups.flat().find((t=>t.selected));if(t){this.selectedGroup=t;this.selectedGroupId=t.id}}}},selectedGroup(){this.shouldShowWelcomeStub=false;this.globalGroup=this.selectedGroup}},methods:{getDisplayedGroup(){if(this.showEmptyGroups){return m.Runtime.clone(this.groups)}const t=new Set;this.items.forEach((e=>{e.groupIds.forEach((e=>{t.add(e)}))}));return this.groups.map((e=>e.filter((e=>e.isHeaderGroup===true||t.has(e.id))))).filter((t=>t.length>0))},handleGroupSelected(t){var e;this.searching=false;(e=this.$refs.search)==null?void 0:e.clearSearch();this.selectedGroupId=t?t.id:null;this.selectedGroup=t!=null?t:null},onSearch(t){const e=t.getData().queryString.toLowerCase();this.lastSearchString=e;this.searchQuery=e||"";if(!m.Type.isStringFilled(e)){this.searching=false;this.shownItems=[];return}this.searching=true;this.selectedGroup=null;this.selectedGroupId=null;this.shownItems=this.items.filter((t=>{var s;return String(t.title).toLowerCase().includes(e)||String(t.description).toLowerCase().includes(e)||((s=t.tags)==null?void 0:s.some((t=>t===e)))}));this.applyFilters()},onApplyFilterClick(t){this.filters=t.getData();if(this.searching){this.onSearch(new h.BaseEvent({data:{queryString:this.lastSearchString}}));return}this.shownItems=this.itemsBySelectedGroupId;this.applyFilters()},applyFilters(){this.filtersApplied=Object.values(this.filters).length>0;for(const t in this.filters){this.shownItems=this.shownItems.filter(this.filters[t].action)}},getFilterNode(){return this.$root.$app.getPopup().getTitleContainer().querySelector('[data-role="titlebar-filter"]')},getSearchNode(){return this.$root.$app.getPopup().getTitleContainer().querySelector('[data-role="titlebar-search"]')},stopPropagation(t){t.stopPropagation()}},template:`\n\t\t<div class="ui-entity-catalog__main">\n\t\t\t<MainGroups\n\t\t\t\t:groups="this.shownGroups"\n\t\t\t\t:searching="searching"\n\t\t\t\t@group-selected="handleGroupSelected"\n\t\t\t\t:selected-group="selectedGroup"\n\t\t\t>\n\t\t\t\t<template #group-list-header>\n\t\t\t\t\t<slot name="group-list-header"/>\n\t\t\t\t</template>\n\t\t\t\t<template #group="groupSlotProps">\n\t\t\t\t\t<slot\n\t\t\t\t\t\tname="group"\n\t\t\t\t\t\tv-bind:groupData="groupSlotProps.groupData"\n\t\t\t\t\t\tv-bind:handleClick="groupSlotProps.handleClick"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t\t<template #group-list-footer>\n\t\t\t\t\t<slot name="group-list-footer"/>\n\t\t\t\t</template>\n\t\t\t</MainGroups>\n\t\t\t<MainContent\n\t\t\t\t:items="itemsBySelectedGroupId"\n\t\t\t\t:items-to-show="computedShownItems"\n\t\t\t\t:group="selectedGroup"\n\t\t\t\t:searching="searching"\n\t\t\t>\n\t\t\t\t<template #main-content-header>\n\t\t\t\t\t<slot name="main-content-header"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-no-selected-group-stub>\n\t\t\t\t\t<slot name="main-content-no-selected-group-stub"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-welcome-stub>\n\t\t\t\t\t<slot name="main-content-welcome-stub"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-filter-stub v-if="$slots['main-content-filter-stub']">\n\t\t\t\t\t<slot name="main-content-filter-stub"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-filter-stub-title v-if="$slots['main-content-filter-stub-title']">\n\t\t\t\t\t<slot name="main-content-filter-stub-title"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-search-stub>\n\t\t\t\t\t<slot name="main-content-search-stub"></slot>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-search-not-found-stub>\n\t\t\t\t\t<slot name="main-content-search-not-found-stub"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-empty-group-stub>\n\t\t\t\t\t<slot name="main-content-empty-group-stub"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-empty-group-stub-title>\n\t\t\t\t\t<slot name="main-content-empty-group-stub-title"/>\n\t\t\t\t</template>\n\t\t\t\t<template #item="itemSlotProps">\n\t\t\t\t\t<slot name="item" v-bind:itemData="itemSlotProps.itemData"/>\n\t\t\t\t</template>\n\t\t\t\t<template #main-content-footer>\n\t\t\t\t\t<slot name="main-content-footer"/>\n\t\t\t\t</template>\n\t\t\t</MainContent>\n\t\t\t<Teleport v-if="getFilterNode()" :to="getFilterNode()">\n\t\t\t\t<TitleBarFilter\n\t\t\t\t\t:filters="filterOptions.filterItems"\n\t\t\t\t\t:multiple="filterOptions.multiple"\n\t\t\t\t\t@onApplyFilters="onApplyFilterClick"\n\t\t\t\t\t@mousedown="stopPropagation"\n\t\t\t\t/>\n\t\t\t</Teleport>\n\t\t\t<Teleport v-if="getSearchNode()" :to="getSearchNode()">\n\t\t\t\t<Search @onSearch="onSearch" ref="search" @mousedown="stopPropagation"/>\n\t\t\t</Teleport>\n\t\t</div>\n\t`};let A=t=>t,C,D;const N={EmptyContent:T};const U={useGlobalState:F};var $=babelHelpers.classPrivateFieldLooseKey("popup");var M=babelHelpers.classPrivateFieldLooseKey("popupOptions");var R=babelHelpers.classPrivateFieldLooseKey("popupTitle");var k=babelHelpers.classPrivateFieldLooseKey("customTitleBar");var j=babelHelpers.classPrivateFieldLooseKey("groups");var x=babelHelpers.classPrivateFieldLooseKey("items");var X=babelHelpers.classPrivateFieldLooseKey("showEmptyGroups");var q=babelHelpers.classPrivateFieldLooseKey("showSearch");var K=babelHelpers.classPrivateFieldLooseKey("filterOptions");var W=babelHelpers.classPrivateFieldLooseKey("application");var V=babelHelpers.classPrivateFieldLooseKey("slots");var Y=babelHelpers.classPrivateFieldLooseKey("customComponents");var J=babelHelpers.classPrivateFieldLooseKey("recentGroupData");var Q=babelHelpers.classPrivateFieldLooseKey("showRecentGroup");var z=babelHelpers.classPrivateFieldLooseKey("vueInstance");var Z=babelHelpers.classPrivateFieldLooseKey("resolveGroupsForTemplate");var tt=babelHelpers.classPrivateFieldLooseKey("attachTemplate");var et=babelHelpers.classPrivateFieldLooseKey("getDefaultPopupOptions");var st=babelHelpers.classPrivateFieldLooseKey("getPopupTitleBar");var it=babelHelpers.classPrivateFieldLooseKey("handleClose");class at extends h.EventEmitter{constructor(t){var e,s,i;super();Object.defineProperty(this,it,{value:pt});Object.defineProperty(this,st,{value:rt});Object.defineProperty(this,et,{value:ot});Object.defineProperty(this,tt,{value:nt});Object.defineProperty(this,Z,{value:lt});Object.defineProperty(this,$,{writable:true,value:void 0});Object.defineProperty(this,M,{writable:true,value:void 0});Object.defineProperty(this,R,{writable:true,value:void 0});Object.defineProperty(this,k,{writable:true,value:null});Object.defineProperty(this,j,{writable:true,value:[]});Object.defineProperty(this,x,{writable:true,value:[]});Object.defineProperty(this,X,{writable:true,value:false});Object.defineProperty(this,q,{writable:true,value:false});Object.defineProperty(this,K,{writable:true,value:{filterItems:[],multiple:false}});Object.defineProperty(this,W,{writable:true,value:void 0});Object.defineProperty(this,V,{writable:true,value:void 0});Object.defineProperty(this,Y,{writable:true,value:void 0});Object.defineProperty(this,J,{writable:true,value:void 0});Object.defineProperty(this,Q,{writable:true,value:false});Object.defineProperty(this,z,{writable:true,value:void 0});this.setEventNamespace("BX.UI.EntityCatalog");this.setGroups(m.Type.isArray(t.groups)?t.groups:[]);this.setItems(m.Type.isArray(t.items)?t.items:[]);babelHelpers.classPrivateFieldLooseBase(this,J)[J]=(e=t.recentGroupData)!=null?e:null;babelHelpers.classPrivateFieldLooseBase(this,Q)[Q]=m.Type.isBoolean(t.showRecentGroup)?t.showRecentGroup:false;if(m.Type.isBoolean(t.canDeselectGroups)){babelHelpers.classPrivateFieldLooseBase(this,j)[j].forEach((e=>{e.forEach((e=>{e.deselectable=t.canDeselectGroups}))}))}babelHelpers.classPrivateFieldLooseBase(this,X)[X]=m.Type.isBoolean(t.showEmptyGroups)?t.showEmptyGroups:false;babelHelpers.classPrivateFieldLooseBase(this,q)[q]=m.Type.isBoolean(t.showSearch)?t.showSearch:false;if(m.Type.isPlainObject(t.filterOptions)){babelHelpers.classPrivateFieldLooseBase(this,K)[K]=t.filterOptions}babelHelpers.classPrivateFieldLooseBase(this,R)[R]=m.Type.isString(t.title)?t.title:"";babelHelpers.classPrivateFieldLooseBase(this,k)[k]=t.customTitleBar?t.customTitleBar:null;babelHelpers.classPrivateFieldLooseBase(this,M)[M]=Object.assign(babelHelpers.classPrivateFieldLooseBase(this,et)[et](),m.Type.isObject(t.popupOptions)?t.popupOptions:{});babelHelpers.classPrivateFieldLooseBase(this,V)[V]=(s=t.slots)!=null?s:{};babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]=(i=t.customComponents)!=null?i:{};this.subscribeFromOptions(t.events)}setGroups(t){babelHelpers.classPrivateFieldLooseBase(this,j)[j]=t.map((t=>{if(!m.Type.isArray(t)){t=[t]}return t.map((t=>({selected:false,deselectable:true,...t})))}));if(!babelHelpers.classPrivateFieldLooseBase(this,z)[z]||!babelHelpers.classPrivateFieldLooseBase(this,z)[z].localGroups){return this}if(this.isGroupsStructureChanged(babelHelpers.classPrivateFieldLooseBase(this,j)[j])){try{babelHelpers.classPrivateFieldLooseBase(this,z)[z].refreshGroups(babelHelpers.classPrivateFieldLooseBase(this,j)[j])}catch(t){console.error(t);babelHelpers.classPrivateFieldLooseBase(this,z)[z].localGroups=babelHelpers.classPrivateFieldLooseBase(this,j)[j]}}else{const t={};for(const i of babelHelpers.classPrivateFieldLooseBase(this,j)[j]){for(const a of i){var e,s;t[String(a.id)]=(e=(s=a.customData)==null?void 0:s.counterValue)!=null?e:null}}this._updateCountersInGroupLists(babelHelpers.classPrivateFieldLooseBase(this,z)[z].localGroups,t)}return this}isGroupsStructureChanged(t){if(!Array.isArray(babelHelpers.classPrivateFieldLooseBase(this,j)[j])||!Array.isArray(t)){return true}if(babelHelpers.classPrivateFieldLooseBase(this,j)[j].length!==t.length){return true}for(let i=0;i<t.length;i++){const a=babelHelpers.classPrivateFieldLooseBase(this,j)[j][i]||[];const l=t[i]||[];if(a.length!==l.length){return true}for(let t=0;t<l.length;t++){var e,s;if(String((e=a[t])==null?void 0:e.id)!==String((s=l[t])==null?void 0:s.id)){return true}}}return false}_updateCountersInGroupLists(t,e={}){if(!Array.isArray(t))return;for(const i of t){for(const t of i){const i=String(t.id);if(Object.prototype.hasOwnProperty.call(e,i)){var s;const a=(s=t.customData)!=null?s:{};t.customData=Object.assign({},a,{counterValue:e[i]})}}}}updateGroupCounter(t,e){const s=String(t);const i={[s]:e};this._updateCountersInGroupLists(babelHelpers.classPrivateFieldLooseBase(this,j)[j],i);if(!babelHelpers.classPrivateFieldLooseBase(this,z)[z]){return this}try{this._updateCountersInGroupLists(babelHelpers.classPrivateFieldLooseBase(this,z)[z].localGroups,i)}catch(t){if(typeof babelHelpers.classPrivateFieldLooseBase(this,z)[z].refreshGroups==="function"){babelHelpers.classPrivateFieldLooseBase(this,z)[z].refreshGroups(babelHelpers.classPrivateFieldLooseBase(this,j)[j])}}return this}getItems(){return babelHelpers.classPrivateFieldLooseBase(this,x)[x]}setItems(t=[]){babelHelpers.classPrivateFieldLooseBase(this,x)[x].length=0;babelHelpers.classPrivateFieldLooseBase(this,x)[x].push(...t);if(!babelHelpers.classPrivateFieldLooseBase(this,z)[z]||typeof babelHelpers.classPrivateFieldLooseBase(this,z)[z].refreshItems!=="function"){return this}try{babelHelpers.classPrivateFieldLooseBase(this,z)[z].refreshItems(babelHelpers.classPrivateFieldLooseBase(this,x)[x])}catch(t){console.error(t)}return this}updateItemById(t,e={}){if(babelHelpers.classPrivateFieldLooseBase(this,z)[z]&&typeof babelHelpers.classPrivateFieldLooseBase(this,z)[z].updateItemById==="function"){try{babelHelpers.classPrivateFieldLooseBase(this,z)[z].updateItemById(t,e);return this}catch(t){console.error(t)}}const s=babelHelpers.classPrivateFieldLooseBase(this,x)[x].find((e=>String(e.id)===String(t)));if(s){Object.assign(s,e)}else{babelHelpers.classPrivateFieldLooseBase(this,x)[x].push(Object.assign({id:t},e))}return this}show(){babelHelpers.classPrivateFieldLooseBase(this,tt)[tt]();this.getPopup().show()}isShown(){return babelHelpers.classPrivateFieldLooseBase(this,$)[$]&&babelHelpers.classPrivateFieldLooseBase(this,$)[$].isShown()}getPopup(){if(m.Type.isNil(babelHelpers.classPrivateFieldLooseBase(this,$)[$])){babelHelpers.classPrivateFieldLooseBase(this,$)[$]=new d.Popup(babelHelpers.classPrivateFieldLooseBase(this,M)[M]);babelHelpers.classPrivateFieldLooseBase(this,$)[$].setResizeMode(true)}return babelHelpers.classPrivateFieldLooseBase(this,$)[$]}selectGroup(t){if(babelHelpers.classPrivateFieldLooseBase(this,z)[z]&&babelHelpers.classPrivateFieldLooseBase(this,z)[z].$refs.application){const e=babelHelpers.classPrivateFieldLooseBase(this,z)[z].localGroups.flat().find((e=>String(e.id)===String(t)));if(e){babelHelpers.classPrivateFieldLooseBase(this,z)[z].$refs.application.handleGroupSelected(e)}}return this}close(){try{if(babelHelpers.classPrivateFieldLooseBase(this,W)[W]&&typeof babelHelpers.classPrivateFieldLooseBase(this,W)[W].unmount==="function"){babelHelpers.classPrivateFieldLooseBase(this,W)[W].unmount()}if(babelHelpers.classPrivateFieldLooseBase(this,$)[$]){babelHelpers.classPrivateFieldLooseBase(this,$)[$].close()}}catch(t){console.error(t)}babelHelpers.classPrivateFieldLooseBase(this,W)[W]=null;babelHelpers.classPrivateFieldLooseBase(this,z)[z]=null;babelHelpers.classPrivateFieldLooseBase(this,$)[$]=null}}function lt(){var t,e,s,i,a,l,n,o,r;if(!babelHelpers.classPrivateFieldLooseBase(this,J)[J]||!babelHelpers.classPrivateFieldLooseBase(this,Q)[Q]){return babelHelpers.classPrivateFieldLooseBase(this,j)[j]}const p=babelHelpers.classPrivateFieldLooseBase(this,j)[j].map((t=>t.slice()));const c={isHeaderGroup:true,id:(t=babelHelpers.classPrivateFieldLooseBase(this,J)[J].id)!=null?t:"recent",name:(e=babelHelpers.classPrivateFieldLooseBase(this,J)[J].name)!=null?e:"",icon:(s=babelHelpers.classPrivateFieldLooseBase(this,J)[J].icon)!=null?s:"",tags:(i=babelHelpers.classPrivateFieldLooseBase(this,J)[J].tags)!=null?i:[],adviceTitle:babelHelpers.classPrivateFieldLooseBase(this,J)[J].adviceTitle,adviceAvatar:babelHelpers.classPrivateFieldLooseBase(this,J)[J].adviceAvatar,selected:!!babelHelpers.classPrivateFieldLooseBase(this,J)[J].selected,disabled:!!babelHelpers.classPrivateFieldLooseBase(this,J)[J].disabled,deselectable:(a=babelHelpers.classPrivateFieldLooseBase(this,J)[J].deselectable)!=null?a:true,compare:babelHelpers.classPrivateFieldLooseBase(this,J)[J].compare,customData:Object.assign({},(l=babelHelpers.classPrivateFieldLooseBase(this,J)[J].customData)!=null?l:{},{counterValue:(n=(o=babelHelpers.classPrivateFieldLooseBase(this,J)[J].customData)==null?void 0:o.counterValue)!=null?n:(r=babelHelpers.classPrivateFieldLooseBase(this,J)[J].customData)==null?void 0:r.newEntitiesCount})};if(p.length>0&&Array.isArray(p[0])&&p[0].some((t=>t.isHeaderGroup))){p[0].unshift(c);return p}return[[c],...p]}function nt(){var t,i,a,l,n,o,r,p,u,d,h;const b=this.getPopup().getContentContainer();if(babelHelpers.classPrivateFieldLooseBase(this,W)[W]&&typeof babelHelpers.classPrivateFieldLooseBase(this,W)[W].unmount==="function"){try{babelHelpers.classPrivateFieldLooseBase(this,W)[W].unmount()}catch(t){console.error(t)}babelHelpers.classPrivateFieldLooseBase(this,W)[W]=null;babelHelpers.classPrivateFieldLooseBase(this,z)[z]=null}const v=this;const f=babelHelpers.classPrivateFieldLooseBase(this,Z)[Z]();const _={groups:f,items:babelHelpers.classPrivateFieldLooseBase(this,x)[x],showEmptyGroups:babelHelpers.classPrivateFieldLooseBase(this,X)[X],filterOptions:babelHelpers.classPrivateFieldLooseBase(this,K)[K]};babelHelpers.classPrivateFieldLooseBase(this,W)[W]=e.BitrixVue.createApp({name:"ui-entity-catalog",components:Object.assign(babelHelpers.classPrivateFieldLooseBase(this,Y)[Y],{Application:w,Hint:s.Hint,Button:S}),directives:{feedback:g},props:{groups:Array,items:Array,showEmptyGroups:Boolean,filterOptions:Object},created(){this.$app=v},data(){return{localGroups:this.groups,localItems:this.items}},methods:{onItemsRendered(){this.$app.emit("onItemsRendered")},refreshGroups(t){this.localGroups=t},refreshItems(t=[]){try{const e=new Map(this.localItems.map((t=>[String(t.id),t])));t.forEach((t=>{const s=String(t.id);if(e.has(s)){Object.assign(e.get(s),t)}else{this.localItems.push(t);e.set(s,this.localItems[this.localItems.length-1])}}));const s=new Set(t.map((t=>String(t.id))));for(let t=this.localItems.length-1;t>=0;t--){if(!s.has(String(this.localItems[t].id))){this.localItems.splice(t,1)}}}catch(e){console.error(e);this.localItems.splice(0,this.localItems.length,...t)}},updateItemById(t,e={}){try{const s=this.localItems.find((e=>String(e.id)===String(t)));if(s){Object.assign(s,e)}else{this.localItems.push(Object.assign({id:t},e))}}catch(t){console.error(t)}}},template:`\n\t\t\t\t\t<Application\n\t\t\t\t\t\tref="application"\n\t\t\t\t\t\t@itemsRendered="onItemsRendered"\n\t\t\t\t\t\t:groups="localGroups"\n\t\t\t\t\t\t:items="localItems"\n\t\t\t\t\t\t:show-empty-groups="showEmptyGroups"\n\t\t\t\t\t\t:filter-options="filterOptions"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #group-list-header>\n\t\t\t\t\t\t\t${(t=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_GROUP_LIST_HEADER])!=null?t:""}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #group="groupSlotProps">\n\t\t\t\t\t\t\t${(i=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_GROUP])!=null?i:""}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #group-list-footer>\n\t\t\t\t\t\t\t${(a=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_GROUP_LIST_FOOTER])!=null?a:""}\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<template #main-content-header>\n\t\t\t\t\t\t\t${(l=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_HEADER])!=null?l:""}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-footer>\n\t\t\t\t\t\t\t${(n=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_FOOTER])!=null?n:""}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-filter-stub v-if="${!!babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_FILTERS_STUB]}">\n\t\t\t\t\t\t\t${babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_FILTERS_STUB]}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-filter-stub-title v-if="${!!babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_FILTERS_STUB_TITLE]}">\n\t\t\t\t\t\t\t${babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_FILTERS_STUB_TITLE]}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-search-not-found-stub>\n\t\t\t\t\t\t\t${(o=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_SEARCH_NOT_FOUND])!=null?o:m.Loc.getMessage("UI_JS_ENTITY_CATALOG_GROUP_LIST_ITEM_LIST_SEARCH_STUB_DEFAULT_TITLE")}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-if="${Boolean(babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_SEARCH_STUB])}" #main-content-search-stub>\n\t\t\t\t\t\t\t${babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_SEARCH_STUB]}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-welcome-stub>\n\t\t\t\t\t\t\t${(r=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_WELCOME_STUB])!=null?r:""}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-no-selected-group-stub>\n\t\t\t\t\t\t\t${(p=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_NO_SELECTED_GROUP_STUB])!=null?p:""}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-empty-group-stub>\n\t\t\t\t\t\t\t${(u=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_EMPTY_GROUP_STUB])!=null?u:""}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #main-content-empty-group-stub-title>\n\t\t\t\t\t\t\t${(d=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_EMPTY_GROUP_STUB_TITLE])!=null?d:""}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #item="itemSlotProps">\n\t\t\t\t\t\t\t${(h=babelHelpers.classPrivateFieldLooseBase(this,V)[V][at.SLOT_MAIN_CONTENT_ITEM])!=null?h:""}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Application>\n\t\t\t\t`},_);babelHelpers.classPrivateFieldLooseBase(this,z)[z]=babelHelpers.classPrivateFieldLooseBase(this,W)[W].use(c.createPinia()).mount(b)}function ot(){return{className:"ui-catalog-popup ui-entity-catalog__scope",titleBar:babelHelpers.classPrivateFieldLooseBase(this,st)[st](),noAllPaddings:true,closeByEsc:true,contentBackground:at.DEFAULT_POPUP_COLOR,draggable:true,width:at.DEFAULT_POPUP_WIDTH,height:at.DEFAULT_POPUP_HEIGHT,minWidth:at.DEFAULT_POPUP_WIDTH,minHeight:at.DEFAULT_POPUP_HEIGHT,autoHide:false}}function rt(){const t=babelHelpers.classPrivateFieldLooseBase(this,k)[k]?babelHelpers.classPrivateFieldLooseBase(this,k)[k]:m.Tag.render(C||(C=A`<div>${0}</div>`),m.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,R)[R]));return{content:m.Tag.render(D||(D=A`
				<div class="popup-window-titlebar-text ui-entity-catalog-popup-titlebar">
					${0}
					
					${0}
					${0}
					<span
						class="popup-window-close-icon popup-window-titlebar-close-icon"
						onclick="${0}"
						></span>
				</div>
			`),t,babelHelpers.classPrivateFieldLooseBase(this,q)[q]?`<div class="ui-entity-catalog__titlebar_search" data-role="titlebar-search"></div>`:"",babelHelpers.classPrivateFieldLooseBase(this,K)[K].filterItems.length>0?'<div data-role="titlebar-filter"></div>':"",babelHelpers.classPrivateFieldLooseBase(this,it)[it].bind(this))}}function pt(){this.close()}at.DEFAULT_POPUP_WIDTH=881;at.DEFAULT_POPUP_HEIGHT=621;at.DEFAULT_POPUP_COLOR="#edeef0";at.SLOT_GROUP_LIST_HEADER="group-list-header";at.SLOT_GROUP="group";at.SLOT_GROUP_LIST_FOOTER="group-list-footer";at.SLOT_MAIN_CONTENT_HEADER="main-content-header";at.SLOT_MAIN_CONTENT_FOOTER="main-content-footer";at.SLOT_MAIN_CONTENT_FILTERS_STUB="main-content-filter-stub";at.SLOT_MAIN_CONTENT_FILTERS_STUB_TITLE="main-content-filter-stub-title";at.SLOT_MAIN_CONTENT_SEARCH_NOT_FOUND="search-not-found";at.SLOT_MAIN_CONTENT_WELCOME_STUB="main-content-welcome-stub";at.SLOT_MAIN_CONTENT_NO_SELECTED_GROUP_STUB="main-content-no-selected-group-stub";at.SLOT_MAIN_CONTENT_EMPTY_GROUP_STUB="main-content-empty-group-stub";at.SLOT_MAIN_CONTENT_EMPTY_GROUP_STUB_TITLE="main-content-empty-group-stub-title";at.SLOT_MAIN_CONTENT_ITEM="main-content-item";at.SLOT_MAIN_CONTENT_SEARCH_STUB="main-content-search-stub";t.Stubs=N;t.States=U;t.EntityCatalog=at})(this.BX.UI=this.BX.UI||{},BX.Vue3,BX.Vue3.Components,BX.UI.Feedback,BX,BX.UI,BX.UI.Vue3.Components,BX.UI,BX,BX,BX.Vue3.Pinia,BX,BX.Main,BX.Event,BX,BX);
//# sourceMappingURL=entity-catalog.bundle.map.js