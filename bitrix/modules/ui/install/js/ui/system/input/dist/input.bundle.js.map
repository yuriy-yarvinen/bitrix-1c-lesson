{"version":3,"file":"input.bundle.js","sources":["../src/const.js","../src/vue.js"],"sourcesContent":["export const InputSize = Object.freeze({\n\tLg: 'l',\n\tMd: 'm',\n\tSm: 's',\n});\n\nexport const InputDesign = Object.freeze({\n\tPrimary: 'primary',\n\tGrey: 'grey',\n\tLightGrey: 'light-grey',\n\tDisabled: 'disabled',\n\tNaked: 'naked',\n});\n","import { Chip, ChipDesign, ChipSize } from 'ui.system.chip.vue';\nimport { BIcon, Outline } from 'ui.icon-set.api.vue';\nimport 'ui.icon-set.outline';\n\nimport { InputSize, InputDesign } from './const';\nexport { InputSize, InputDesign };\n\nimport './input.css';\n\n// @vue/component\nexport const BInput = {\n\tname: 'BInput',\n\tcomponents: {\n\t\tBIcon,\n\t\tChip,\n\t},\n\texpose: ['blur'],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\trowsQuantity: {\n\t\t\ttype: Number,\n\t\t\tdefault: 1,\n\t\t},\n\t\tresize: {\n\t\t\ttype: String,\n\t\t\tdefault: 'both',\n\t\t\tvalidator: (value) => ['none', 'both', 'horizontal', 'vertical'].includes(value),\n\t\t},\n\t\tlabel: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tlabelInline: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\terror: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: InputSize.Lg,\n\t\t},\n\t\tdesign: {\n\t\t\ttype: String,\n\t\t\tdefault: InputDesign.Grey,\n\t\t},\n\t\ticon: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\t/**\n\t\t * @type ChipProps[]\n\t\t */\n\t\tchips: {\n\t\t\ttype: Array,\n\t\t\tdefault: null,\n\t\t},\n\t\tcenter: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\twithSearch: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\twithClear: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tdropdown: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tclickable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tstretched: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tactive: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\temits: [\n\t\t'update:modelValue',\n\t\t'click',\n\t\t'focus',\n\t\t'blur',\n\t\t'input',\n\t\t'clear',\n\t\t'chipClick',\n\t\t'chipClear',\n\t],\n\tsetup(): Object\n\t{\n\t\treturn {\n\t\t\tOutline,\n\t\t\tChipDesign,\n\t\t};\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\tfocused: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tvalue: {\n\t\t\tget(): string\n\t\t\t{\n\t\t\t\treturn this.modelValue;\n\t\t\t},\n\t\t\tset(value: string): void\n\t\t\t{\n\t\t\t\tthis.$emit('update:modelValue', value);\n\t\t\t},\n\t\t},\n\t\tdisabled(): boolean\n\t\t{\n\t\t\treturn this.design === InputDesign.Disabled;\n\t\t},\n\t\tchipSize(): string\n\t\t{\n\t\t\treturn {\n\t\t\t\t[InputSize.Lg]: ChipSize.Md,\n\t\t\t\t[InputSize.Md]: ChipSize.Md,\n\t\t\t\t[InputSize.Sm]: ChipSize.Xs,\n\t\t\t}[this.size];\n\t\t},\n\t},\n\tmounted(): void\n\t{\n\t\tif (this.active && !this.clickable)\n\t\t{\n\t\t\tthis.focusToInput();\n\t\t}\n\t},\n\tmethods: {\n\t\tfocusToInput(): void\n\t\t{\n\t\t\tconst input = this.$refs.input;\n\t\t\tif (!input)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tinput.focus({ preventScroll: true });\n\t\t\tinput.setSelectionRange(input.value.length, input.value.length);\n\t\t},\n\t\thandleClick(event: MouseEvent): void\n\t\t{\n\t\t\tif (!this.clickable)\n\t\t\t{\n\t\t\t\tthis.$refs.input.focus();\n\t\t\t}\n\n\t\t\tthis.$emit('click', event);\n\t\t},\n\t\thandleFocus(event: FocusEvent): void\n\t\t{\n\t\t\tif (this.clickable)\n\t\t\t{\n\t\t\t\tevent.target.blur();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.focused = true;\n\t\t\tthis.$emit('focus', event);\n\t\t},\n\t\thandleBlur(event: FocusEvent): void\n\t\t{\n\t\t\tthis.focused = false;\n\t\t\tthis.$emit('blur', event);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tclass=\"ui-system-input\"\n\t\t\t:class=\"[\n\t\t\t\t'--' + design,\n\t\t\t\t'--' + size,\n\t\t\t\t{\n\t\t\t\t\t'--center': center,\n\t\t\t\t\t'--with-chips': chips?.length > 0,\n\t\t\t\t\t'--clickable': clickable,\n\t\t\t\t\t'--stretched': stretched,\n\t\t\t\t\t'--active': active || focused,\n\t\t\t\t\t'--error': error && !disabled,\n\t\t\t\t},\n\t\t\t]\">\n\t\t\t<div v-if=\"label\" class=\"ui-system-input-label\" :class=\"{ '--inline': labelInline }\">{{ label }}</div>\n\t\t\t<div class=\"ui-system-input-container\" ref=\"inputContainer\" @click=\"handleClick\">\n\t\t\t\t<div v-for=\"chip in chips\" class=\"ui-system-input-chip\">\n\t\t\t\t\t<Chip\n\t\t\t\t\t\tv-bind=\"chip\"\n\t\t\t\t\t\t:design=\"disabled ? ChipDesign.Disabled : chip.design\"\n\t\t\t\t\t\t:size=\"chipSize\"\n\t\t\t\t\t\t@click=\"$emit('chipClick', chip)\"\n\t\t\t\t\t\t@clear=\"$emit('chipClear', chip)\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<BIcon v-if=\"icon\" class=\"ui-system-input-icon\" :name=\"icon\"/>\n\t\t\t\t<textarea\n\t\t\t\t\tv-if=\"rowsQuantity > 1\"\n\t\t\t\t\tv-model=\"value\"\n\t\t\t\t\tclass=\"ui-system-input-value --multi\"\n\t\t\t\t\t:style=\"{ resize }\"\n\t\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\t:rows=\"rowsQuantity\"\n\t\t\t\t\tref=\"input\"\n\t\t\t\t\t@focus=\"handleFocus\"\n\t\t\t\t\t@blur=\"handleBlur\"\n\t\t\t\t\t@input=\"$emit('input', $event)\"\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\tv-else\n\t\t\t\t\tv-model=\"value\"\n\t\t\t\t\tclass=\"ui-system-input-value\"\n\t\t\t\t\t:style=\"{ '--placeholder-length': placeholder.length + 'ch' }\"\n\t\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\t\t:disabled=\"disabled\"\n\t\t\t\t\tref=\"input\"\n\t\t\t\t\t@focus=\"handleFocus\"\n\t\t\t\t\t@blur=\"handleBlur\"\n\t\t\t\t\t@input=\"$emit('input', $event)\"\n\t\t\t\t/>\n\t\t\t\t<BIcon v-if=\"withSearch\" class=\"ui-system-input-cross\" :name=\"Outline.SEARCH\"/>\n\t\t\t\t<BIcon v-if=\"withClear\" class=\"ui-system-input-cross\" :name=\"Outline.CROSS_L\" @click.stop=\"$emit('clear')\"/>\n\t\t\t\t<BIcon v-if=\"dropdown\" class=\"ui-system-input-dropdown\" :name=\"Outline.CHEVRON_DOWN_L\"/>\n\t\t\t</div>\n\t\t\t<div v-if=\"error?.trim() && !disabled\" class=\"ui-system-input-label --error\">{{ error }}</div>\n\t\t</div>\n\t`,\n};\n"],"names":["InputSize","Object","freeze","Lg","Md","Sm","InputDesign","Primary","Grey","LightGrey","Disabled","Naked","BInput","name","components","BIcon","Chip","expose","props","modelValue","type","String","default","rowsQuantity","Number","resize","validator","value","includes","label","labelInline","Boolean","placeholder","error","size","design","icon","chips","Array","center","withSearch","withClear","dropdown","clickable","stretched","active","emits","setup","Outline","ChipDesign","data","focused","computed","get","set","$emit","disabled","chipSize","ChipSize","Xs","mounted","focusToInput","methods","input","$refs","focus","preventScroll","setSelectionRange","length","handleClick","event","handleFocus","target","blur","handleBlur","template"],"mappings":"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"}