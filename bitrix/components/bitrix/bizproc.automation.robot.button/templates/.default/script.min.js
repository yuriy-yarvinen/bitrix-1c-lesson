(function(){const t=BX.namespace("BX.Bizproc.Automation");if(t.RobotButton){return}class n{static buttonId;constructor(t){n.buttonId=t.buttonId}static getRobotButton(){if(!this.buttonId){return}const t=BX.UI.ButtonManager.createByUniqId(this.buttonId);if(!t){return}return t}static setButtonCounter(t=0){const n=this.getRobotButton();if(!n){return}if(!t||t<=0){n.setRightCounter(null);return}let o=n.getRightCounter();if(!o){const o={style:BX.UI.CounterStyle.FILLED_SUCCESS,value:t};n.setRightCounter(o);return}o.setValue(t)}static onEntityViewed(t){const n=t.unviewedEntitiesCount??0;this.setButtonCounter(n)}static updateButtonCounter(t){if(!BX.Bizproc||!BX.Bizproc.LocalSettings.Settings||!Array.isArray(t)){return}const n=new BX.Bizproc.LocalSettings.Settings("robot-selector");const o=n.get("viewedNewRobotIds",[]);const e=t.length;let r=0;if(Array.isArray(o)&&o.length>0){const n=new Set(o.map((t=>String(t).toLowerCase())));t.forEach((t=>{if(n.has(String(t).toLowerCase())){r++}}))}const i=e-r;this.setButtonCounter(i)}}t.RobotButton=n})();
//# sourceMappingURL=script.map.js