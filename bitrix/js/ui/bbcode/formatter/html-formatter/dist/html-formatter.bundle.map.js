{"version":3,"file":"html-formatter.bundle.map.js","names":["this","BX","UI","BBCode","exports","ui_smiley","ui_codeParser","ui_bbcode_model","ui_videoService","ui_bbcode_formatter","ui_typography","main_core","createEmptyParagraphs","scheme","count","result","i","push","createElement","name","shouldWrapInParagraph","node","getType","BBCodeNode","ELEMENT_NODE","hasGroup","wrapTextNodes","nodes","currentParagraph","lineBreaks","isNewLine","appendChild","createNewLine","length","normalizeTextNodes","getScheme","children","getChildren","setChildren","_","t","_t","RootNodeFormatter","NodeFormatter","constructor","options","super","convert","document","createDocumentFragment","before","after","element","formatter","mode","getContainerMode","container","Tag","render","findParent","startingNode","findFn","curr","ROOT_NODE","getParent","_smileyParser","babelHelpers","classPrivateFieldLooseKey","TextNodeFormatter","text","toString","encode","parent","getName","createTextNode","splits","classPrivateFieldLooseBase","parse","fragment","currentIndex","split","start","chunk","slice","typing","end","smiley","SmileyManager","get","createImg","tail","Object","defineProperty","writable","value","SmileyParser","getAll","img","src","encodeURI","getImage","className","alt","getTyping","getWidth","getHeight","width","height","TabNodeFormatter","LinebreakNodeFormatter","normalizeLineBreaks","ParagraphNodeFormatter","Dom","create","tag","attrs","BoldNodeFormatter","getAttributes","UnderlineNodeFormatter","ItalicNodeFormatter","StrikethroughNodeFormatter","TableNodeFormatter","classname","TableHeadCellNodeFormatter","TableDataCellNodeFormatter","TableRowNodeFormatter","ListNodeFormatter","tagName","getValue","ListItemNodeFormatter","nested","some","child","QuoteNodeFormatter","_codeParser","CodeNodeFormatter","content","getTextContent","dataset","decorator","getCodeTokenNodes","CodeParser","tokens","forEach","token","partials","partialsLength","part","span","type","textContent","validateUrl","url","allowDomainRelativeUrl","test","LinkNodeFormatter","validate","nodeValue","fetchNodeValue","isShortLinkEnabled","isIncludeImg","nodeContentLength","getPlainTextLength","shortLink","getLinkSettings","maxLength","sourceHref","nodeRoot","createRoot","left","right","offset","lastFragmentLength","sourceRightFragmentLength","newLink","clone","setValue","createText","lastFragment","Type","isStringFilled","getContent","nodeAttributes","defaultTarget","attributes","href","target","toPlainText","SpoilerNodeFormatter","trim","title","Loc","getMessage","summary","spoilerContent","UserNodeFormatter","_mentionSettings$urlT","mentionSettings","getMentionSettings","urlTemplate","user","userUrl","replaceAll","mentionEntityId","mentionId","DepartmentNodeFormatter","department","departmentUrl","ProjectNodeFormatter","project","projectUrl","createImageNode","viewerAttrs","loading","style","aspectRatio","events","error","event","addClass","parentNode","validateImageUrl","ImageNodeFormatter","Number","getAttribute","isNumber","Math","round","createVideoNode","video","controls","preload","playsinline","ATTRIBUTE_WHITESPACES","SAFE_URL","sanitizeUrl","normalizedUrl","validateVideoUrl","VideoNodeFormatter","replace","uri","Uri","trusted","VideoService","createByHost","getHost","frameborder","allowfullscreen","FileNodeFormatter","fileMode","getFileMode","viewerGroupBy","Text","getRandom","data","_data$files","serverFileId","info","files","find","file","_file$customData","customData","objectId","viewerAttrsExist","isPlainObject","isUndefined","viewerSeparateItem","isImage","toInteger","serverPreviewWidth","serverPreviewHeight","serverPreviewUrl","isVideo","downloadUrl","fileId","fileInfo","JSON","stringify","NodeFormatters","freeze","globalSettings","Extension","getSettings","_linkSettings","_mentionSettings","_fileMode","_containerMode","_isVoidElement","HtmlFormatter","Formatter","_isVoidElement2","setLinkSettings","linkSettings","setMentionSettings","mention","includes","defaultFormatters","values","map","FormatterClass","setContainerMode","containerMode","setNodeFormatters","formatters","enabled","isInteger","settings","isElement","source","nodeType","Node","DOCUMENT_FRAGMENT_NODE","getDefaultUnknownNodeCallback","isVoid","createFragment","getOpeningTag","getClosingTag","toLowerCase","HtmlFormatterComponent","props","bbcode","String","default","undefined","formatData","beforeCreate","htmlFormatter","mounted","format","unmounted","watch","methods","getHtmlFormatter","clean","$el","append","_this$htmlFormatter","template","Smiley","window"],"sources":["html-formatter.bundle.js"],"mappings":"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","ignoreList":[]}