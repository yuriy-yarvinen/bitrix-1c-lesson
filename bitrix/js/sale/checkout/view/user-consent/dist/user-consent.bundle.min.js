this.BX=this.BX||{};this.BX.Sale=this.BX.Sale||{};this.BX.Sale.Checkout=this.BX.Sale.Checkout||{};(function(t,e,n,i,s){"use strict";var o;e.BitrixVue.component("sale-checkout-view-user_consent",{props:["item"],mounted:function t(){this.getBlockHtml()},methods:{getBlockHtml:function t(){var e=this;var a={title:this.item.title,isLoaded:this.item.isLoaded,autoSave:this.item.autoSave,submitEventName:this.item.submitEventName,fields:this.item.params,items:this.item.items};n.ajax.runComponentAction(s.Component.bitrixSaleOrderCheckout,s.RestMethod.saleEntityUserConsentRequest,{data:{fields:a}}).then((function(t){if(BX.type.isPlainObject(t.data)&&BX.type.isNotEmptyString(t.data.html)){var a=t.data.html;if(BX.UserConsent!==undefined){var r=e.$refs.consentDiv;r.appendChild(n.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(["<div>","</div>"])),a));BX.UserConsent.loadAll(r);var c=BX.UserConsent&&BX.UserConsent.getItems();c.forEach((function(t){i.EventEmitter.subscribe(t,BX.UserConsent.events.afterAccepted,(function(t){return i.EventEmitter.emit(s.EventType.consent.accepted,t)}));i.EventEmitter.subscribe(t,BX.UserConsent.events.refused,(function(t){return i.EventEmitter.emit(s.EventType.consent.refused,t)}))}))}}}))}},template:'\n\t\t <div class="checkout-basket-section checkout-basket-section-consent">\n\t\t<div ref="consentDiv"/>\n\t\t    </div>\n\t'})})(this.BX.Sale.Checkout.View=this.BX.Sale.Checkout.View||{},BX,BX,BX.Event,BX.Sale.Checkout.Const);
//# sourceMappingURL=user-consent.bundle.map.js